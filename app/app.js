!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=43)}([function(e,n){e.exports=require("electron")},function(e,n){e.exports=require("lodash")},function(e,n){e.exports=require("path")},function(e,n,t){"use strict";t.r(n),t.d(n,"config",function(){return i});const i={code:"grc",pages:["home","main","remote-dicts","db-info","arrange-dicts","help","dict-edit"],defstate:"home",splitSizes:[50,50],langs:["eng","deu","rus"],deflang:"eng"}},function(e,n){e.exports=require("fs-extra")},function(e){e.exports={name:"development",description:"Add here any environment specific stuff you like."}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkConnection=function(e,n){(0,r.setDBs)(e,n)},n.createFromCsv=function(e,n){(0,r.createDB)(e,n)},n.antrax=function(e,n){var t=function(e){var n=(i=e,r=i.trim(),r=(r=(r=r.replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")).replace(/Ῐ/gi,"Ι").replace(/Ῑ/gi,"Ι")).replace(/̆/gi,"")),t=(0,c.comb)(n);var i,r;return(0,c.oxia)(t)}(e);a=t=t.replace(/-/g,""),d=!1,g=[],a.split("").forEach(function(e){if(e==s.accents.oxia){if(d)return;d=!0}g.push(e)}),t=g.join("");var a,d,g;var h=(0,o.segmenter)(t);n&&(h=i.default.filter(h,function(e){return e.length>2}));var m=i.default.uniq(h.map(function(e){return e[e.length-1]})),v=i.default.uniq(i.default.flatten(h.map(function(e){return e.slice(0,-1)}))),b=i.default.uniq(i.default.compact(v.map(function(e){return(0,c.plain)(e)}))),y=i.default.max(b.map(function(e){return e.length}));u("max",y);var x=function(e){var n,t,r=[];return e.forEach(function(e){t=i.default.first(e),n=(0,c.plain)(e);var o=l.strong2weak[t];if(s.vowels.includes(t))o&&o.forEach(function(n){var t=[n,e.slice(1)].join("");r.push(t)});else{var a=["ε",n].join("");r.push(a)}}),i.default.uniq(r)}(b),k=x.length?i.default.uniq(b.concat(x)):b;return k.push(t),u("cwf:",t),u("lasts:",m.toString()),u("plainsegs:",k.toString()),Promise.all([(0,r.getTerm)(t),(0,r.queryDBs)(k),(0,r.getFlex)(m),(0,r.getComp)(k)]).then(function(e){var r=i.default.flatten(e[0]),o=i.default.flatten(e[1]),a=i.default.filter(o,function(e){return e.term&&e.term==t});r=r.concat(a),a=i.default.uniq(r.map(function(e){return e.term})),u("terms----\x3e",a.toString()),u("terms----\x3e",r.length),o=i.default.filter(o,function(e){return!e.term});var l=i.default.flatten(e[3]),d=i.default.flatten(e[2]);o=i.default.filter(o,function(e){return!e.indecl});var g=i.default.uniq(o.map(function(e){return e.plain}));u("dictplains----\x3e",g.toString()),u("dicts.size----\x3e",o.length);var m=i.default.uniq(l.map(function(e){return e.plain}));u("complains----\x3e",m.toString()),u("complains.size----\x3e",m.length);var v=i.default.filter(o,function(e){return e.pref}),b=i.default.uniq(v.map(function(e){return e.plain}));u("prefs----\x3e",b.toString(),v.length);var y=i.default.filter(o,function(e){return e.suf}),x=i.default.uniq(y.map(function(e){return e.plain}));u("sufs----\x3e",x.toString(),y.length);var w=i.default.filter(o,function(e){return"συλλαβ"==e.plain});u("kdicts----\x3e",w.length);var C=function(e,n){var t={};return e.forEach(function(e){var r=i.default.filter(n,function(n){return e===n.plain});t[e]=r}),t}(k,o),j=i.default.filter(h,function(e){return 2==e.length});u("singles",j.length);var E=function(e,n,t){var r=[];return e.forEach(function(e){var o=e[1],a=((0,c.plain)(o),e[0]),s=(0,c.plain)(a),l=n[s];l=i.default.filter(l,function(e){return!e.comp});var d=i.default.filter(t,function(e){return e.term===o});if(d.length){var u=p(e,l,d);u&&r.push([u]);var g=f(e,l,d);g&&(g.single=!0),g&&r.push([g])}}),i.default.compact(r)}(j,C,d);if(u("total single chains",E.length),!E.length){var _=i.default.filter(h,function(e){return 3==e.length});u("doubles",_.length);var S=function(e,n,t){var r=[];return e.forEach(function(e){var o=(0,c.plain)(e[0]),a=n[o],l=e[1],d=(0,c.plain)(l),u=n[d],g=i.default.last(e),h=i.default.filter(t,function(e){return e.term===g});if(h.length){a=i.default.filter(a,function(e){return e.plain.length>1});var m,v,b=i.default.filter(a,function(e){return e.pref}),y=i.default.filter(u,function(e){return e.verb&&"pres"==e.time||e.name||e.part}),x=i.default.filter(a,function(e){return e.verb&&"pres"==e.time}),k=i.default.filter(a,function(e){return e.name}),w=i.default.filter(a,function(e){return e.name||e.verb&&"pres"==e.time}),C=e.slice(1),j=s.vowels.includes(d)?e[1]:null,E={conn:!0,seg:j,dicts:[]},_=[];j&&_.push(E);var S=f(C,_,h);if(S){S.double=!0;var L={seg:e[0],dicts:w,weight:0};r.push([L,S])}if(b.length&&y.length){var q={seg:e[0],dicts:b,weight:0,pref:!0},O=p(C,y,h);O&&(v=[q,O],r.push(v))}var M=i.default.filter(u,function(e){return e.suf});if(M.length){var R=p(C,M,h);if(R){R.str=R.dicts.map(function(e){return e.rdict}).toString();var D=i.default.filter(M,function(e){return e.verb}),A=i.default.filter(M,function(e){return e.verb&&"pres"==e.time&&"name"==e.stem}),z=i.default.filter(M,function(e){return e.name&&"name"==e.stem}),T=i.default.filter(M,function(e){return e.name&&"verb"==e.stem}),N=i.default.filter(M,function(e){return e.verb&&"pres"==e.time&&!e.stem});if(x.length&&D.length){var P={seg:e[0],dicts:x,weight:0};R.vsuf=!0,m=[P,R]}else if(k.length&&z.length){var F={seg:e[0],dicts:k,weight:0};R.nnsuf=!0,m=[F,R]}else if(x.length&&T.length){var U={seg:e[0],dicts:x,weight:0};R.nvsuf=!0,m=[U,R]}else if(k.length&&A.length){var H={seg:e[0],dicts:k,weight:0};R.vnsuf=!0,m=[H,R]}else if(w.length&&N.length){var I={seg:e[0],dicts:w,weight:0};R.vanysuf=!0,m=[I,R]}m&&r.push(m)}}}}),r}(_,C,d);if(E.push(S),E=i.default.compact(i.default.flatten(E)),u("total double chains",E.length),!E.length){var L=i.default.filter(h,function(e){return 4==e.length});u("triples",L.length);var q=function(e,n,t){var r=[];return e.forEach(function(e){var o=(0,c.plain)(e[0]),a=n[o],l=e[1],d=(0,c.plain)(l),u=n[d],f=e[2],g=(0,c.plain)(f),h=n[g],m=i.default.last(e),v=i.default.filter(t,function(e){return e.term===m});if(v.length){var b,y,x=i.default.filter(a,function(e){return e.pref}),k=i.default.filter(u,function(e){return e.pref}),w=(i.default.filter(u,function(e){return e.verb||e.name||e.part}),i.default.filter(h,function(e){return e.verb||e.name||e.part})),C=i.default.filter(a,function(e){return e.verb}),j=i.default.filter(a,function(e){return e.name}),E=i.default.filter(a,function(e){return e.name||e.verb}),_=e.slice(2);if(x.length&&k.length&&w.length){var S={seg:e[0],dicts:x,weight:0,pref:!0},L={seg:e[1],dicts:k,weight:0,pref:!0},q=p(_,w,v);q&&(y=[S,L,q],r.push(y))}var O=s.vowels.includes(d)?e[1]:null;if(O){var M=i.default.filter(h,function(e){return e.suf});if(M.length){var R=p(_,M,v);if(R){R.str=R.dicts.map(function(e){return e.rdict}).toString();var D=i.default.filter(M,function(e){return e.verb}),A=i.default.filter(M,function(e){return e.verb&&"name"==e.stem}),z=i.default.filter(M,function(e){return e.name&&"name"==e.stem}),T=i.default.filter(M,function(e){return e.name&&"verb"==e.stem}),N=i.default.filter(M,function(e){return e.name&&!e.stem}),P={conn:!0,seg:O,dicts:[]},F=e.join("");if(C.length&&D.length,O&&C.length&&T.length){if([e[0],O,R.seg].join("")!=F)return;var U={seg:e[0],dicts:C,weight:0};R.suf=!0,b=[U,P,R]}else if(O&&j.length&&z.length){if([e[0],O,R.seg].join("")!=F)return;var H={seg:e[0],dicts:j,weight:0};R.suf=!0,b=[H,P,R]}else j.length&&A.length,E.length&&N.length;b&&r.push(b)}}}}}),r}(L,C,d);E.push(q),E=i.default.compact(i.default.flatten(E)),u("total triple chains",E.length)}}var O=function(e,n){var t;if(n)t=e;else{var r=i.default.min(e.map(function(e){return e.length}));t=i.default.filter(e,function(e){return e.length==r})}return i.default.compact(t)}(E,n);u("bests =>",O.length),O.length&&(E=O),u("result-chain---\x3e",E),E.forEach(function(e){var n=e.map(function(e){return e.dicts.map(function(e){return e.rdict})});u("result-dicts---\x3e",i.default.flatten(n))});var M={};return E.length&&(M.chains=E),r.length&&(M.terms=r),E.length&&n&&(M.compound=!0),M})};var i=d(t(1)),r=t(28),o=t(30),a=t(31),s=t(10),l=t(33),c=(d(t(9)),t(11));function d(e){return e&&e.__esModule?e:{default:e}}t(2),console.log;var u=t(8)("app");process.argv.slice(2)[0];function f(e,n,t){var r=i.default.filter(t,function(e){return e.suf&&e.adv});if(r.length){var o=i.default.filter(n,function(e){return e.name||e.conn});if(o.length){var a={seg:e[0],dicts:o,weight:0,adv:!0,term:!0};return a.suffix=r,a.segs=JSON.stringify(e),a}}}function p(e,n,t){var r=i.default.filter(n,function(e){return e.name||e.verb&&e.plain.length>1||e.part});if(r.length){var o=function(e,n){var t=i.default.filter(e,function(e){return e.name}),r=i.default.filter(n,function(e){return e.name}),o=i.default.filter(e,function(e){return e.verb}),s=i.default.filter(n,function(e){return e.verb}),l=(0,a.parseName)(t,r),c=(0,a.parseVerb)(o,s);return l.push(c),l=i.default.flatten(l)}(r,t);if(o.length){var s=o.map(function(e){return e.rdict}).toString();return{seg:e.join(""),dicts:o,weight:0,str:s}}}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.freq=function(e){var n={},t=d.readdirSync(e);l("F",t.length);var i=u.resolve(e,"periSyntaxeos.txt");(t=[i]).forEach(function(t){var i=u.resolve(e,t),o=d.readFileSync(i,"utf8").trim(),a=o.split("\n");(a=(a=s.compact(a)).slice(3,4)).forEach(function(e,t){var i=function(e){var n=e.trim();return n=(n=n.replace(/\.$/,"")).replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")}(e),o=(0,r.default)(i,g);o&&v(n,o)})});var o=s.values(n);return s.sortBy(o,"wf")},n.freqChunk=v,n.makeCsv=function(e,n){var t=[],i={};d.removeSync(e),f.pipe((r=n,o=0,f.from.obj(function(e,n){if(o==r.length-1)return n(null,null);var t=r[o];o++,n(null,t)})),f.parallel(5,b),f.through.obj(function(e,n,t){e.forEach(function(e){var n=[e.wf,e.pos,e.key].join("-");i[n]||(i[n]=e)}),t()},function(n){var r=s.values(i);r.forEach(function(e){var n,i=e.term?e.term:e.rdict;"verb"==e.type?n=e.vkey:"name"==e.type?n=[e.gend,e.key].join(","):"term"==e.type?n=e.pos:"unknown"==e.type&&(n="-");var r=[i,e.type,n,""].join("; ").trim();t.push(r)});var o=t.join("\n");d.writeFileSync(e,o),n(null,null)}));var r,o},n.generateDocs=function(e){var n=d.createReadStream(e);return new Promise(function(e,t){var i=p({delimiter:";",trim:!0,comment:"#",skip_empty_lines:!0},function(n,i){n&&t(n);var r={};i.forEach(function(e){var n=e[1];if(n&&"-"!=n){var t=e[0],i=e[2],a=e[3];if(a&&i&&"-"!=i){var s,l,d,u,f,p,g,h,m=a.split(","),v=[t,i].join("-");if(d=(0,o.oxia)((0,o.comb)(t)),"term"==n)l={term:d,type:"term",pos:i,trns:m},u=d;else if("name"==n){var b,y=i.split(",")[0];if(["m","f","n"].includes(y)?(b=i.split(",").slice(1).join(","),"m"==y?y="masc":"f"==y?y="fem":"n"==y&&(y="neut")):y=null,b=(0,o.comb)(b),g=(0,o.plain)(b.split("-")[0]),h=new RegExp(g+"$"),(f=(0,o.plain)(d).replace(h,""))==(0,o.plain)(d))throw c("DICT",d,f,i,g,"=",e),new Error("PLAIN!");l={name:!0,rdict:t,dict:d,plain:f,keys:[b],trns:m},y&&(l.gends=[y]),"name"==n?(l.keys=b,l.name=!0):"verb"==n&&(l.vkeys=b,l.verb=!0),u=f}else if("verb"==n||"name"==n){if("reg"==i&&(i="ω"),p=(0,o.comb)(i),g=(0,o.plain)(p.split("-")[0]),h=new RegExp(g+"$"),(f=(0,o.plain)(d).replace(h,""))==(0,o.plain)(d))throw c("DICT",d,f,i,g,"=",e),new Error("PLAIN!");l={rdict:t,dict:d,plain:f,pos:n,keys:p,trns:m},"name"==n?(l.keys=p,l.name=!0):"verb"==n&&(l.vkeys=p,l.verb=!0),u=f}r[v]?r[v].docs.push(l):(s={_id:u,docs:[l]},r[v]=s)}}});var a=s.values(r);e(a),c("_>>>>",a)});n.pipe(i)})},n.mergeDictChunk=function(e){d.createReadStream(e);c("mergeDictChunk")};var i,r=(i=t(34))&&i.__esModule?i:{default:i},o=t(11),a=t(6);var s=t(1),l=t(8)("csv"),c=console.log,d=t(4),u=t(2),f=t(35),p=(t(36),t(37)),g="grc",h=u.resolve(process.env.HOME,".config/MorpheusGreek (development)"),m=["wkt","lsj"];function v(e,n){n.forEach(function(n){n.forEach(function(n){n.lang&&n.text.split(" ").forEach(function(n){n=(n=(0,o.oxia)((0,o.comb)(n))).toLowerCase(),e[n]?e[n].freq+=1:e[n]={wf:n,freq:1}})})})}function b(e,n){var t=e.wf;if(!t)return n(null,null);(0,a.antrax)(t).then(function(e){var i=[];if(e.chains)e.chains.forEach(function(e){var n;if(e.length>1)n={rdict:t,type:"compound",keys:e.map(function(e){return e.seg}).join("-")};else if(1==e.length){var r=e[0],o=s.filter(r.dicts,function(e){return e.name}),a=s.filter(r.dicts,function(e){return e.verb&&"pres"==e.time}),l=o[0],c=a[0];c&&(n={type:"verb",wf:t,rdict:c.rdict,dict:c.dict,plain:c.plain,vkey:c.vkey}),l&&(n={type:"name",wf:t,rdict:l.rdict,dict:l.dict,plain:l.plain,key:l.keys.toString()},l.gends&&(n.gend=l.gends[0][0]))}n&&i.push(n)});else if(e.terms){var r,o=s.filter(e.terms,function(e){return!e.pos||"unknown"==e.pos}),a=s.filter(e.terms,function(e){return"unknown"!=e.pos});a.length?a.forEach(function(e){r={type:"term",pos:e.pos,wf:t,term:e.term}}):o.forEach(function(e){r={type:"term",pos:e.pos,wf:t,term:e.term}}),i.push(r)}else{var l={type:"unknown",wf:t,pos:"-",term:t};i.push(l)}n(null,i)}).catch(function(e){console.log("ANTRAX-ERR",e)})}l("=DNAMES=",m),(0,a.checkConnection)(h,m)},function(e,n){e.exports=require("debug")},function(e,n){e.exports=require("util")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dbg=function(){"log"==b&&console.log.apply(console,arguments)},n.insp=function(){if("insp"!=b)return;var e=l.default.values(arguments);1===e.length&&(e=e[0]);console.log(d.inspect(e,!1,null,!0))},n.mood=n.voice=n.time=n.apicompats=n.augmods=n.augs=n.apiaugs=n.affixes=n.strongs=n.weaks=n.eaug=n.vowels=n.contrs=n.mutes=n.accents=void 0;var i,r,o,a,s,l=(i=t(1))&&i.__esModule?i:{default:i};function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=t(9),u=(c(r={oxia:"́",varia_:"`",varia:"̀",peris:"͂","":"",psili:"̓",dasia:"̔"},"",""),c(r,"ypo","ͅ"),c(r,"",""),r),f=u;n.accents=f;n.mutes=function(){return["ψ","ξ"]};var p={ew:["ε",u.oxia,"ω"].join(""),aw:["α",u.oxia,"ω"].join(""),ow:["ο",u.oxia,"ω"].join("")};n.contrs=p;n.vowels=["α","ε","ι","ο","ω","η","υ"];n.eaug="ε";var g=(c(o={"α":["η"],"αι":["ῃ"],"ανα":["ανε","ανη"],"αν":["ανε"],"απα":["απη"],"απαι":["απῃ"],"απε":["απει"],"απο":["απε","απω"],"αφαι":["αφῃ"],"αφο":["αφω"],"αρα":["ηρα"],"ε":["η"],"δια":["διε","διη"],"διε":["διη"],"διαι":["διῃ"],"εισε":["ειση"],"εκ":["εξε"],"εκρ":["εξερρ"],"εξα":["εξη"],"εξε":["εξη"],"εν":["ενε"],"επεν":["επενε"],"εμ":["ενε"],"επα":["επη"],"επαι":["επῃ"],"επι":["επε","επει"],"επε":["επι","επη"],"επο":["επω"],"ευα":["ευη"],"η":["ε"],"κατα":["κατε","κατη"],"κατοι":["κατῳ"],"μετα":["μετε"],"ο":["ω"],"οι":["ῳ"],"παρα":["παρε"],"παρε":["παρη"],"περι":["περιε"],"περιε":["περιη"],"προσ":["προσε"],"προσα":["προση"],"προσε":["προση","προσ"],"προ":["προε"],"ρ":["ερρ"],"συνε":["συνη","συνει","συγ","συλ","συμ"],"συλ":["συνε"],"συμ":["συνε"],"συσ":["συνε"],"συγ":["συνε"],"συνη":["συνα"],"υπα":["υπη"],"υπο":["υπε"],"":[""]},"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),o);n.weaks=g;var h=(c(a={"η":"α","ω":"ο","ᾐ":"αι","":""},"",""),c(a,"",""),a);n.strongs=h;var m=(c(s={"διε":"δια","διῃ":"διαι","διη":"δια","διῳ":"διοι","εξε":"εκ","εξερρ":"εκρ","εξεκ":"εκ","":""},"",""),c(s,"",""),s);n.affixes=m;var v=[["α",u.psili].join(""),["α",u.dasia].join(""),["αι",u.psili].join(""),["αι",u.dasia].join(""),["αυ",u.psili].join(""),["αυ",u.dasia].join(""),["ε",u.psili].join(""),["ε",u.dasia].join(""),["ει",u.psili].join(""),["ει",u.dasia].join(""),["ευ",u.psili].join(""),["ευ",u.dasia].join(""),["ο",u.psili].join(""),["ο",u.dasia].join(""),["οι",u.psili].join(""),["οι",u.dasia].join(""),["ου",u.psili].join(""),["ου",u.dasia].join(""),["ι",u.psili].join(""),["ι",u.dasia].join(""),["υ",u.psili].join(""),["υ",u.dasia].join(""),["ω",u.psili].join(""),["ω",u.dasia].join(""),["η",u.psili].join(""),["η",u.psili,u.ypo].join(""),["η",u.dasia].join("")];n.apiaugs=v;n.augs={"X̓":"ἐ","ἀ":"ἀ ἠ","ἠ":"ἠ ἀ","ἡ":"ἡ","ὁ":"ὁ ὡ","ὡ":"ὁ ὡ","ᾐ":"αἰ"};n.augmods=["act.impf.ind","mp.impf.ind","act.aor.ind","mid.aor.ind","act.ppf.ind","mp.ppf.ind","pas.aor.ind"];n.apicompats=["act.pres.ind","act.fut.ind","act.impf.ind","mp.pres.ind","mp.impf.ind","act.pres.sub","mp.pres.sub","mp.pres.opt","act.pres.opt","act.pres.imp","mp.pres.imp","mid.fut.ind","act.fut.opt","mid.fut.opt","act.aor.ind","mid.aor.ind","act.aor.sub","mid.aor.sub","act.aor.opt","mid.aor.opt","act.aor.imp","mid.aor.imp","pas.aor.ind","pas.fut.ind","pas.fut.opt","pas.aor.sub","","",""];n.time=function(e){return e.split(".")[1]};n.voice=function(e){return e.split(".")[0]};n.mood=function(e){return e.split(".")[2]};var b=process.argv.slice(3)[0]},function(e,n){e.exports=require("orthos")},,function(e,n){e.exports=require("pouchdb")},function(e,n){e.exports=require("electron-clipboard-extended")},,function(e,n){e.exports=require("speckled-band")},function(e,n){e.exports=require("split.js")},,function(e,n,t){var i=t(20);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(24)(i,r);i.locals&&(e.exports=i.locals)},function(e,n,t){n=e.exports=t(21)(!1);var i=t(22)(t(23));n.push([e.i,'/* @import "./treeview.min.css" */\n\np {\n  padding-bottom: 6px;\n}\n\nh4 {\n  color: maroon;\n}\n\n/* .is-shown { */\n/*     display: block!important; */\n/* } */\n\n.is-hidden {\n  display: none!important;\n}\n\n#main {\n    margin: 0;\n    padding: 10px;\n    height: 100%;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n#home {\n    padding-top: 25px;\n}\n\n#title {\n    margin: 0;\n    padding: 10px;\n    height: 100%;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n.section {\n    margin: 15px;\n    margin-top: 15px;\n    display: block;\n    overflow-y: hidden;\n    height: 100%;\n    padding-bottom: 120px;\n    margin-bottom: 120px;\n    font-family: "Helvetica Neue", Helvetica, Arial;\n    font-size: 1em;\n    position: relative;\n}\n\n.split {\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.gutter {\n    background-color: #eee;\n    background-repeat: no-repeat;\n    background-position: 50%;\n    height: 100%;\n    width: 5px;\n}\n\n.gutter.gutter-horizontal {\n    background-image: url('+i+");\n    cursor: ew-resize;\n}\n\n.split, .gutter.gutter-horizontal {\n    height: 100%;\n    float: left;\n}\n\n#source {\n    font-family: \"Helvetica Neue\", Helvetica, Arial;\n    font-size: 1em;\n    padding-left: 15px;\n    padding-top: 25px;\n    padding-bottom: 25px;\n    overflow-y: hidden;\n    line-height: 1.5;\n    /* overflow-x: hidden; */\n}\n\n#result {\n    font-family: \"Helvetica Neue\", Helvetica, Arial;\n    font-size: 0.9em;\n    padding-left: 15px;\n    padding-top: 25px;\n    padding-bottom: 25px;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n.link {\n  cursor: pointer;\n  color: maroon;\n}\n\n.dinfo {\n    cursor: pointer;\n    color: maroon;\n}\n\n.clause {\n    background-color: #eee;\n}\n\n\n/* span { */\n    /* padding-right: 5px; */\n/* } */\n\nspan.space {\n    padding-right: 0;\n}\n\nspan.tibphrase {\n    padding-right: 0;\n}\n\nspan.term {\n    padding-right: 0;\n}\n\nspan.tibphrase:hover {\n    /* background-color: #eee8aa; */\n}\n\nspan.tibwf:hover {\n  background-color: #eee8aa;\n}\n\n.grey {\n    color: grey;\n}\n\nli.hidden {\n  display: none;\n}\n\n.hidden {\n    display: none; /* !important */;\n}\n\n.activetrn {\n    display: block!important;\n}\n\ninput[type='file'] {\n    color: transparent;\n}\n\n.maroon {\n    color: maroon;\n}\n\n/* span.clear { clear: left; display: block; } */\n\n#book {\n  padding-top: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n\n#headers {\n  margin: 0;\n  height: 30px;\n}\n\n#headers > p {\n  margin: 0;\n  -webkit-margin-before: 0;\n}\n\n#trns > p.hidden {\n  display: none;\n}\n\n.hleft {\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  /* padding-left: 15px; */\n  padding-right: 15px;\n  color: maroon;\n}\n\n.hright {\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: maroon;\n}\n\n.header {\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  background: white;\n  padding: 5px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n/* #headers { */\n/*   height: 16px; */\n/*   padding-bottom: 10px; */\n/* } */\n\n#book > div.hright > ul  {\n  margin: 0;\n  padding: 0;\n  -webkit-margin-before: 0;\n  -webkit-margin-after: 0;\n  -webkit-margin-start: 0;\n  -webkit-margin-end: 0;\n  -webkit-padding-start: 0;\n}\n\n#book {\n  margin: 0;\n  padding: 0;\n  -webkit-margin-before: 0;\n  -webkit-margin-after: 0;\n  -webkit-margin-start: 0;\n  -webkit-margin-end: 0;\n  -webkit-padding-start: 0;\n}\n\n.bookTitle {\n  margin-top: 80px;\n  margin-left: 50px;\n}\n\n.author {\n  font-size: 18px;\n}\n\n.title {\n  color: maroon;\n  font-size: 24px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.check-name {\n  padding-left: 5px;\n}\n\nspan.query {\n    cursor: pointer;\n    color: maroon;\n    font-weight: bold;\n}\n\n.libauth {\n  padding-top: 25px;\n  cursor: pointer;\n}\n\n.lib-auth {\n  padding: 10px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial;\n  font-size: 16px;\n  color: maroon;\n}\n\n.lib-auth::after {\n  content: ':'\n}\n\n.lib-title {\n  padding: 10px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial;\n  font-size: 16px;\n}\n\n.book-content {\n  padding-left: 10px;\n  font-size: 18px;\n  color: maroon;\n}\n\n/* #book > div.hleft.header > div > div:nth-child(2) */\ndiv.hleft.header > div.tree {\n  /* display: none; */\n}\n\n.qlink {\n  padding-right: 15px;\n  color: maroon;\n  cursor: pointer;\n}\n\n.qtext {\n  padding-left: 15px;\n}\n\n/* #source > div:nth-child(2) > p:nth-child(4) */\n/* #source > div:nth-child(2) > div > p:nth-child(2) */\ndiv.qtext > p.hidden {\n  display: none;\n}\n\n.disclaimer {\n  font-size: 10px;\n  }\n\n.qtitle {\n  color: maroon;\n  font-size: 24px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.statline {\n    padding-left: 25px;\n}\n\n.statnic {\n    width: 150px;\n}\n\n.statnic::after {\n    content: ': ';\n}\n\n.green {\n    color: green;\n}\n\n.red {\n    color: red;\n}\n\n#transcript {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  /* background-color: white; */\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1100;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  font-size: 16px;\n  padding: 3px;\n  background-color: #e6ffcc;\n}\n\n#ambi {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1000;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  padding: 3px;\n  background-color: white;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.upper {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1001;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  padding: 3px;\n  background-color: white;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.danger {\n  background-color: #fff2e6;\n}\n\n#ambi > ul {\n  /* magrin: 0; */\n  /* padding-inline-start: 0; */\n  /* margin-block-start: 0; */\n  /* margin-block-end: 0; */\n  padding: 3px;\n}\n\n#ambi > ul > li > span {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.upper > ul > li > span {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\nspan.active-form {\n    cursor: pointer;\n}\n\nspan.active-form:hover {\n    background-color: #eee8aa;\n}\n\nspan.active-dict {\n    cursor: pointer;\n}\n\nspan.active-dict:hover {\n    background-color: #eee8aa;\n}\n\n.punct {\n    padding-right: 2px;\n}\n\n.dict-div {\n}\n\n.dict-query {\n    color: maroon;\n    background-color: #eee;\n    padding-left: 5px;\n    /* padding-right: 15px; */\n}\n\n.dict-header {\n    margin-top: 15px;\n}\n\n.dict-div {\n}\n\n.dict-ul {\n  font-size: small;\n  /* padding-left: 15px; */\n}\n\n.dict-dname {\n  float: right;\n  color: green;\n}\n\n.dict-gends {\n    font-style: italic;\n}\n\n.dict-pos {\n    font-style: italic;\n}\n\n.dict-rdict {\n    width: 50%;\n    padding: 5px;\n}\n\nul.dict-fls {\n    padding-left: 15px;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    background-color: #A4F3F3;\n}\n\nul.dict-trns {\n    padding-top: 5px;\n    padding-left: 25px;\n    line-height: 1.3;\n}\n\n.dict-article {\n    padding-top: 12px;\n}\n\n.dicts-table {\n  width: 100%;\n  margin-top: 25px;\n}\n\n\n#arrange-dicts {\n  margin-top: 50px;\n}\n\n.dictname {\n  cursor: pointer;\n  color: maroon;\n}\n\n.dict-check {\n  width: 20px;\n  height: 20px;\n}\n\n.active-dict {\n  width: 100px;\n}\n\n#pechatxt {\n  padding-left: 15px;\n  padding-top: 25px;\n  padding-bottom: 25px;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.dictcsv {\n  color: maroon;\n  cursor: pointer;\n}\n\n.table-header {\n  color: maroon;\n  font-weight: bold;\n}\n\nul.info-table {\n    line-height: 1.5em;\n    list-style: none;\n\n}\n\n\n.popup {\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    color: black;\n    display: 'block';\n    padding: 3px;\n    position: absolute;\n    z-index: 1001;\n    box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n    height: auto;\n    top: 250px;\n    left: 300px;\n    background-color: white;\n    font-size: 1.5em;\n}\n\n.comp-segment {\n    /* color: 'red'; */\n}\n\n.comp-segment:after {\n    content: ' - ';\n}\n\n.sect-dicts-ul {\n    list-style: none;\n    padding: 5px;\n    background-color: #E9FED6;\n}\n.sect-dict-line {\n    cursor: pointer;\n}\n",""])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(o).concat([r]).join("\n")}var a;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&i[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){"use strict";e.exports=function(e,n){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||n?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,n,t){e.exports=t.p+"aeed77a8b9081818ddf762cf8f7e2829.png"},function(e,n,t){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,d=[],u=t(25);function f(e,n){for(var t=0;t<e.length;t++){var i=e[t],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],n))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],n));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,n){for(var t=[],i={},r=0;r<e.length;r++){var o=e[r],a=n.base?o[0]+n.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):t.push(i[a]={id:a,parts:[s]})}return t}function g(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,t);t.insertBefore(n,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function m(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return v(n,e.attrs),g(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,r,o;if(n.transform&&e.css){if(!(o="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=o}if(n.singleton){var a=c++;t=l||(l=m(n)),i=k.bind(null,t,a,!1),r=k.bind(null,t,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),g(e,n),n}(n),i=function(e,n,t){var i=t.css,r=t.sourceMap,o=void 0===n.convertToAbsoluteUrls&&r;(n.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,n),r=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),r=function(){h(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else r()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=p(e,n);return f(t,n),function(e){for(var i=[],r=0;r<t.length;r++){var a=t[r];(s=o[a.id]).refs--,i.push(s)}e&&f(p(e,n),n);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,x=(y=[],function(e,n){return y[e]=n,y.filter(Boolean).join("\n")});function k(e,n,t,i){var r=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(n,r);else{var o=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var r,o=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?t+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,n){e.exports=require("markdown-it")},function(e,n){e.exports=require("markdown-it-attrs")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setDBs=function(e,n){o=[],n.forEach(function(n,t){if("flex"!=n&&"terms"!=n){var i=c.resolve(e,"pouch",n),r=new d(i);r.dname=n,r.weight=t,o.push(r)}});var t=c.resolve(e,"pouch","flex");a=new d(t);var i=c.resolve(e,"pouch","terms");s=new d(i);var r=c.resolve(e,"pouch","comp");l=new d(r)},n.queryDBs=function(e){return Promise.all(o.map(function(n){return n.allDocs({keys:e,include_docs:!0}).then(function(e){if(!e||!e.rows)throw new Error("no dbn result");var t=r.default.compact(e.rows.map(function(e){return e.doc})),i=r.default.flatten(r.default.compact(t.map(function(e){return e.docs})));return i.length?(i.forEach(function(e){e.dname=n.dname,e.weight=n.weight}),i):[]}).catch(function(e){console.log("ERR GET DBs",e)})}))},n.getFlex=function(e){return a.allDocs({keys:e,include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=[];return n.forEach(function(e){e.docs.forEach(function(e){t.push(e)})}),t})},n.getTerm=function(e){return s.allDocs({keys:[e],include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=r.default.flatten(n.map(function(e){return e.docs}));return t.forEach(function(e){e.dname="term",e.weight=0}),t})},n.getComp=function(e){return l.allDocs({keys:e,include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=r.default.flatten(n.map(function(e){return e.docs}));return t.forEach(function(e){e.dname="comp",e.weight=100}),t})},n.createDB=function(e,n){var t=c.resolve(e,"pouch","local"),i=r.default.find(o,function(e){return"local"==e.dname});i?i.destroy().then(function(i){u("___________EMPTY",t),o=r.default.filter(o,function(e){return"local"!=e.dname}),f(e,n)}):f(e,n)};var i,r=(i=t(1))&&i.__esModule?i:{default:i};t(29);var o,a,s,l,c=t(2),d=(t(4),t(13)),u=console.log;function f(e,n){var t=c.resolve(e,"pouch","local"),i=new d(t);i.dname="local",i.weight=0,o.push(i),i.bulkDocs(n).then(function(e){u("BULK-RES",e)})}},function(e,n){e.exports=require("copy-dir")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.segmenter=function(e){var n=e,t=[];return function e(i,r){var s=a(i);s.forEach(function(i){r.push(i.head),r.push(i.tail),r.join("")==n&&(t.push(o.default.clone(r)),r.pop()),r.length<3&&e(i.tail,r),r.pop()})}(e,[]),t},n.scrape=a;var i,r=t(10),o=(i=t(1))&&i.__esModule?i:{default:i};r.vowels,(0,r.mutes)();function a(e){e.length;for(var n,t,i=[],a=e,s=e.length;s>0;)if(s--,t=e.slice(s),(a=e.substr(0,s))&&(n=t[0],!o.default.values(r.accents).includes(n))){var l={head:a,tail:t};i.push(l)}return i}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseVerb=function(e,n){var t=[];e.forEach(function(e){if(e.reg&&e.key&&!e.vkeys){var i=o.verbkeys[e.key];if(!i)return!1;e.vkeys=o.verbkeys[e.key].vkeys,e.pkeys=o.verbkeys[e.key].pkeys,e.ikeys=o.verbkeys[e.key].ikeys}if(e.reg&&e.vkeys&&(!e.pkeys||!e.ikeys)){var a=e.vkeys.pres[0];e.pkeys=o.verbkeys[a].pkeys,e.ikeys=o.verbkeys[a].ikeys}if(e.reg&&(!e.vkeys||!e.pkeys||!e.ikeys))return!1;var s=r.default.map(n,function(n){if(e.reg!=n.reg)return!1;if(e.reg){if(n.vkey&&!e.vkeys[n.time])return!1;if(n.vkey&&!e.vkeys[n.time].includes(n.vkey))return!1;if(n.pkey&&!e.pkeys[n.time])return!1;if(n.pkey&&!e.pkeys[n.time].includes(n.pkey))return!1;if(n.ikey&&!e.ikeys[n.time])return!1;if(n.ikey&&!e.ikeys[n.time].includes(n.ikey))return!1}else{if(e.time!=n.time)return!1;if(n.vkey&&e.vkey!=n.vkey)return!1;if(n.pkey&&e.pkey!=n.pkey)return!1;if(n.ikey&&e.ikey!=n.ikey)return!1}return n.numcase?{tense:n.tense,numcase:n.numcase,gend:n.gend}:{tense:n.tense,numper:n.numper}});if((s=r.default.compact(s)).length&&s.length){var l;e.vkeys?l=e.vkeys.pres[0]:e.vkey&&(l=e.vkey);var c={verb:!0,time:e.time,rdict:e.rdict,plain:e.plain,vkey:l,dname:e.dname,trns:e.trns,weight:e.weight},d=[e.rdict,e.dname].join("-"),u={dictkey:d,dict:c,fls:s};t.push(u)}});var i=[],s=r.default.groupBy(t,"dictkey"),l=function(e){var n=s[e][0].dict,t=s[e].map(function(e){return e.fls}),o=[],l={};r.default.flatten(t).forEach(function(e){var n=JSON.stringify(e);l[n]||(o.push(e),l[n]=!0)}),n.fls=o,"βαρυν"==n.plain&&a("CDICT-FLS ===========================>>>",n,o.length),i.push(n)};for(var c in s)l(c);return i},n.parseName=function(e,n){var t=[],i=(r.default.filter(e,function(e){return e.name}),r.default.filter(n,function(e){return e.name}),"συλλαβ");return e.forEach(function(e){if(e.added||e.sliced)return!1;e.plain==i&&a("NAME-d ===========================>>>",e);var o=r.default.filter(n,function(n){if(e.plain==i&&"ις-εως"==n.key&&a("NAME-f =======>",n),!e.keys)return!1;if(e.gends){if(!e.gends.includes(n.gend))return!1}else if(n.adv){if(!e.keys.includes(n.key))return!1}else{if(!n.ends)return!1;if(e.ends!=n.ends)return!1}if("lsj"==e.dname&&e.ends){if(e.plain==i&&s("ADKEY________________",e.keys,n.adkey),!e.keys.includes(n.adkey))return!1}else if(!e.keys.includes(n.key))return!1;return!0});e.plain==i&&a("NAME-flex.size ===========================>>>",o.length),o.length&&(e.fls=function(e){var n=[],t={};return e.forEach(function(e){var i,r=[(i=e.adv?{adv:!0,term:e.term,degree:e.degree}:{name:!0,ends:e.ends,term:e.term,numcase:e.numcase,gend:e.gend}).gend,i.numcase].join("-");t[r]||(n.push(i),t[r]=!0)}),n}(o),t.push(e))}),t};t(10);var i,r=(i=t(1))&&i.__esModule?i:{default:i},o=t(32);t(11);var a=t(8)("app"),s=console.log},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.verbkeys=void 0;var i={};n.verbkeys=i,i["έω-έομαι"]={},i["έω-έομαι"].vkeys={pres:["έω-έομαι","ῶ-οῦμαι"],impf:["εον-εόμην","ουν-ούμην"],fut:["ήσω-ήσομαι-ηθήσομαι"],aor:["ησα-ησάμην-ήθην"]},i["έω-έομαι"].pkeys={pres:["έων-έουσα-έον","ῶν-οῦσα-οῦν"],impf:[],fut:["ήσων-ήσουσα-ῆσον"],aor:["ήσας-ήσασα-ῆσαν"]},i["έω-έομαι"].ikeys={pres:["έειν-έεσθαι","εῖν-εῖσθαι"],impf:[],fut:["ήσειν-ήσεσθαι-ηθήσεσθαι"],aor:["ῆσαι-ήσασθαι-ηθῆναι"]},i["άω-άομαι"]={},i["άω-άομαι"].vkeys={pres:["άω-άομαι","ῶ-ῶμαι"],impf:["αον-αόμην","ων-ώμην"],fut:["ήσω-ήσομαι-ηθήσομαι"],aor:["ησα-ησάμην-ήθην"],pf:["ηκα"],ppf:["ήκειν"]},i["άω-άομαι"].pkeys={pres:["άων-άουσα-άον","ῶν-ῶσα-ῶν"],impf:[],fut:["ήσων-ήσουσα-ῆσον"],aor:["ήσας-ήσασα-ῆσαν"],pf:["ηκώς-ηκυῖα-ηκός"],ppf:[]},i["άω-άομαι"].ikeys={pres:["άειν-άεσθαι","ᾶν-ᾶσθαι"],impf:[],fut:["ήσειν-ήσεσθαι-ηθήσεσθαι"],aor:["ῆσαι-ήσασθαι-ηθῆναι"],pf:["ηκέναι"],ppf:[]},i["όω-οῦμαι"]={},i["όω-οῦμαι"].vkeys={pres:["ῶ-οῦμαι"],impf:["ουν-ούμην"],fut:["ώσω-ώσομαι-ωθησήσομαι"],aor:["ωσα-ωσάμην-ώθην","ωσα-ωσάμην-ώθην"],pf:["ωκα-ωμαι"],ppf:["ώκειν-ώμην"]},i["όω-οῦμαι"].pkeys={pres:["ῶν-οῦσα-οῦν"],impf:[],fut:["ώσων-ώσουσα-ῶσον"],aor:["ώσας-ώσασα-ῶσαν"],pf:["ωκώς-ωκυῖα-ωκός"],ppf:[]},i["όω-οῦμαι"].ikeys={pres:["οῦν-οῦσθαι"],impf:[],fut:["ώσειν-ώσεσθαι-ωθησήσεσθαι"],aor:["ῶσαι-ώσασθαι-ωθῆναι"],pf:["ωκέναι-ῶσθαι"],ppf:[]},i["ω-ομαι"]={},i["ω-ομαι"].vkeys={pres:["ω-ομαι"],impf:["ον-όμην"],fut:["σω-σομαι"],aor:["σα-σάμην-θην"],pf:["κα-μαι"]},i["ω-ομαι"].pkeys={pres:["ων-ουσα-ον"],impf:[],fut:["σων-σουσα-σον"],aor:["σας-σασα-σαν"],pf:["κώς-κυῖα-κός"]},i["ω-ομαι"].ikeys={pres:["ειν-εσθαι"],impf:[],fut:["σειν"],aor:["σαι-σασθαι-θῆναι"],pf:["κέναι-σθαι"]},i["ημι-εμαι"]={},i["ημι-εμαι"].vkeys={pres:["ημι-εμαι","ημι-αμαι"],impf:["ην-έμην","ην-έμην","ην-άμην"]},i["ημι-εμαι"].pkeys={pres:["είς-εῖσα-έν","άς-ᾶσα-άν"],impf:[]},i["ημι-εμαι"].ikeys={pres:["έναι-εσθαι","άναι-ασθαι"],impf:[]}},function(e,n,t){"use strict";var i,r;function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.augments_=n.strong2weak=void 0;var a=(o(i={"η":["α","ε","αι"],"":[""]},"",[""]),o(i,"",[""]),i);n.strong2weak=a;var s=(o(r={"α":["η"],"αι":["ῃ"],"ανα":["ανε","ανη"],"αν":["ανε"],"απα":["απη"],"απαι":["απῃ"],"απε":["απει"],"απο":["απε","απω"],"αφαι":["αφῃ"],"αφο":["αφω"],"αρα":["ηρα"],"ε":["η"],"δια":["διε","διη"],"διε":["διη"],"διαι":["διῃ"],"εισε":["ειση"],"εκ":["εξε"],"εξα":["εξη"],"εξε":["εξη"],"εν":["ενε"],"επεν":["επενε"],"εμ":["ενε"],"επα":["επη"],"επαι":["επῃ"],"επι":["επε","επει"],"επε":["επι","επη"],"επο":["επω"],"ευα":["ευη"],"η":["ε"],"κατα":["κατε","κατη"],"κατοι":["κατῳ"],"μετα":["μετε"],"ο":["ω"],"οι":["ῳ"],"παρα":["παρε"],"παρε":["παρη"],"περι":["περιε"],"περιε":["περιη"],"προσ":["προσε"],"προσα":["προση"],"προσε":["προση","προσ"],"προ":["προε"],"ρ":["ερρ"],"συνε":["συνη","συνει","συμ"],"συλ":["συνε"],"συμ":["συνε"],"συσ":["συνε"],"συγ":["συνε"],"συνα":["συνη"],"υπα":["υπη"],"υπο":["υπε"],"":[""]},"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),r);n.augments_=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t(1),console.log,t(8)("app");var i={zho:"([一-鿿]+)",tib:"([ༀ-࿿]+)",grc:"([Ͱ-Ͽἀ-῿̀-ͯ᾽’]+)"};n.default=function(e,n){if(i[n]){e=e.replace(/ +/g," ").trim();var t=new RegExp(i[n]);if(t.test(e)){var r=new RegExp("([.,!:;·།])"),o=e.replace(/\r?\n+/,"\n").split("\n"),a=[];return o.forEach(function(e){var n=[];e.split(r).forEach(function(e){if(e=e.trim(),r.test(e)){var i={text:e,punct:!0};n.push(i)}else e.split(t).forEach(function(e){if(e){var i=!!t.test(e),r={text:e};" "==e?r.space=!0:i?r.lang=!0:r.other=!0,n.push(r)}})}),a.push(n)}),a.filter(function(e){return e.length})}}}},function(e,n){e.exports=require("mississippi")},function(e,n){e.exports=require("split")},function(e,n){e.exports=require("csv-parse")},function(e,n){e.exports=require("request")},function(e,n){e.exports=require("mousetrap")},function(e,n){e.exports=require("markdown")},function(e,n){e.exports=require("axios")},,function(e,n,t){"use strict";t.r(n);t(19);var i=t(1),r=t.n(i),o=t(0),a=(t(5),t(16)),s=t.n(a);t(9);function l(e){return document.querySelector(e)}function c(e,n){let t=document.createElement(e);return n&&t.classList.add(n),t}function d(e,n){let t=document.createElement("span");return t.textContent=e,n&&t.classList.add(n),t}function u(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)}function f(e){e&&e.parentElement.removeChild(e)}let p=t(26)({html:!0}),g=t(27);p.use(g);console.log;const h=t(4),m=t(2);var v=t(3),b=t(2),y=t.n(b),x=t(6),k=t(7);const{app:w}=t(0).remote,C=t(0).remote.require("electron-settings"),j=t(4),E=console.log,_=t(38);let S=t(13);function L(){const e={method:"POST",url:"http://guest:guest@localhost:5984/_dbs_info",json:!0,headers:{"Content-type":"application/json"}};_({url:"http://guest:guest@localhost:5984/_all_dbs"},function(n,t,i){if(n&&console.error("soket error"),t&&200!=t.statusCode)return;let o=JSON.parse(i),a=r.a.filter(o,e=>"_"!=e[0]);e.body={keys:a},_(e,function(e,n,t){if(e&&console.error("soket error"),n&&200!=n.statusCode)return;let i=t.map(e=>({dname:e.key,size:e.info.doc_count}));Promise.all(a.map(function(e){let n=["http://localhost.org:5984/",e].join("");return new S(n).get("description").then(n=>(n.dname=e,n)).catch(e=>{"missing"!=e.reason&&E("REMOTE-ERR:",e.reason)})})).then(function(e){let n=v.config.code,t=new RegExp(n);e=r.a.compact(e),e=r.a.filter(e,e=>t.test(e.langs));let o=[];e.forEach(e=>{let n=r.a.find(i,n=>n.dname==e.dname);n&&(n.descr=e,o.push(n))}),C.set("dbinfos",i),function(e){let n=C.get("cfg")||[],t=C.get("state"),i=r.a.uniq(n.map(e=>e.dname)),o=l("#before-remote-table");if(!o)return;o.textContent="";let a=l("#table-dicts-remote");a&&f(a);let s=l(["#remote-dicts",t.lang].join("_"));a=function(){let e=c("table","dicts-table");e.id="table-dicts-remote";let n=c("tr","table-header");n.id="table-header-remote",e.appendChild(n);let t=c("td");t.textContent="dict's name",n.appendChild(t);let i=c("td");i.textContent="docs",n.appendChild(i);let r=c("td");r.textContent="langs",n.appendChild(r);let o=c("td");o.textContent="info",n.appendChild(o);let a=c("td");return a.textContent="synchronize!",n.appendChild(a),e}(),s.appendChild(a),e.forEach(e=>{let n=c("tr");a.appendChild(n);let t=c("td");n.appendChild(t),t.textContent=e.descr.name;let r=c("td","dsize");r.textContent=e.size,n.appendChild(r);let o=c("td","dlang");o.textContent=e.descr.langs,n.appendChild(o);let s=c("td","dinfo");s.textContent="info",s.dataset.dinfo=e.dname,n.appendChild(s);let l=c("td","link");if(i.includes(e.dname)){let e=function(){let e=c("img","dict-check");return e.setAttribute("src","../resources/check.png"),e}();l.appendChild(e)}else l.textContent="sync";l.dataset.clone=e.dname,n.appendChild(l)})}(o)})})})}function q(e){E("INFO",e.dname);let n=C.get("dbinfos"),t=r.a.find(n,n=>n.dname==e.dname);E("DINFO:",t);let i=l(["#db-info",e.lang].join("_")),o=l("#db-info-table");o&&f(o),o=function(e){let n=c("ul","info-table"),t=c("li","");t.textContent=["dict's remote name: ",e.dname].join(""),n.appendChild(t);let i=c("li","");i.textContent=["dict's full name: ",e.descr.name].join(""),n.appendChild(i);let r=c("li","");r.textContent=["langs: ",e.descr.langs].join(""),n.appendChild(r);let o=c("li","");o.textContent=["source: ",e.descr.source].join(""),n.appendChild(o);let a=c("li","");return a.textContent=["editor: ",e.descr.email].join(""),n.appendChild(a),n}(t),i.appendChild(o)}!function(){let e=w.getPath("userData");e=y.a.resolve(process.env.HOME,".config/MorpheusGreek (development)");let n=C.get("cfg");n||(n=function(e){let n=y.a.resolve(e,"pouch"),t=j.readdirSync(n).map((e,n)=>({dname:e,active:!0,idx:n}));return C.set("cfg",t),t}(e));let t=n.map(e=>e.dname);t=["wkt","dvr","lsj","local"],Object(x.checkConnection)(e,t)}();var O=t(17),M=t.n(O);t(0).remote.require("electron-settings");const R=console.log;let D=l("#progress");function A(e){if(!e.pars)return;let n=l("#source"),t=l("#result");n&&t&&(u(n),u(t),z(),e.pars.forEach(e=>{let t=function(e,n){let t=document.createElement("p");return t.textContent=e,n&&t.classList.add(n),t}();t.classList.add("par"),e.forEach(e=>{e.punct&&(e.text+=" ");let n=d(e.text);e.lang?n.classList.add("active-form"):e.punct?n.classList.add("punct"):n.classList.add("space"),t.appendChild(n)}),n.appendChild(t)}))}function z(){let e=l("#popup");e&&f(e);let n=l("#etyrels");n&&f(n)}function T(e,n){let t=c("div","popup");t.id="popup",document.body.appendChild(t);let i=function(e){return e.getBoundingClientRect()}(e);t.classList.remove("is-hidden"),function(e,n){let t=[e.top,"px"].join(""),i=[e.left,"px"].join("");n.style.top=t,n.style.left=i}({top:i.top+24,left:i.left},t);let r=c("ul","compound-list");return t.appendChild(r),t}function N(){R("NO RESULT"),l("#result").textContent="no resul, try Shift-click"}function P(e){e.forEach(e=>{!function(e){let n=l("#result"),t=c("div","dict-div");n.appendChild(t);let i=c("div","dict-query");i.textContent=e.term,t.appendChild(i);let r=c("div","dict-container");t.appendChild(r);let o=H(e);r.appendChild(o);let a=I(e);if(a){let e=B(a);r.appendChild(e)}if(e.trns){let n=G(e);r.appendChild(n)}}(e)})}function F(e,n){D.classList.remove("is-hidden");let t=e.textContent.trim();(function(e,n){return Object(x.antrax)(e,n)})(t,n).then(t=>{if(z(),!t)return N();n?function(e,n){if(D.classList.add("is-hidden"),!n.chains||!n.chains.length)return;if(R("showCOMP",n.chains),1==n.chains.length&&1==n.chains[0].length)return;let t=T(e).querySelector(".compound-list");n.chains.forEach((e,i)=>{let r=c("li","comp-line");t.appendChild(r),e.forEach((t,o)=>{let a,s=!1;o==e.length-1&&(s=!0),a=d(t.seg,""),s||t.flexes||a.classList.add("comp-segment"),t.connector?a.classList.add("comp-connector"):t.dicts&&a.classList.add("active-dict"),a.dataset.segdicts=JSON.stringify(n.chains[i][o].dicts),r.appendChild(a)})})}(e,t):function(e){D.classList.add("is-hidden"),u(l("#result")),e.terms&&P(e.terms);e.chains&&(n=e.chains,r.a.filter(n,e=>1==e.length).forEach(e=>{U(e[0])}));var n;e.chains||e.terms||N()}(t)}).catch(function(e){console.log("ANTRAX-ERR",t,e)})}function U(e){let n=l("#result"),t=c("div","dict-div");n.appendChild(t);let i=c("div","dict-query");i.textContent=e.seg,t.appendChild(i),e.dicts.forEach(e=>{let n=c("div","dict-container");t.appendChild(n);let i=H(e);n.appendChild(i);let r=I(e);if(r){let e=B(r);n.appendChild(e)}if(e.trns){let t=G(e);n.appendChild(t)}})}function H(e){let n=c("div","dict-header"),t=d(e.dname,"dict-dname");n.appendChild(t);let i=d(e.rdict,"dict-rdict");if(n.appendChild(i),e.gends){let t=d(e.gends.toString(),"dict-gends");n.appendChild(t)}else if(e.term&&e.pos){let t=d(e.pos,"dict-pos");n.appendChild(t)}else if(e.suf){let e=d("suff","dict-pos");n.appendChild(e)}else if(e.pref){let e=d("pref","dict-pos");n.appendChild(e)}return n}function I(e){let n,t=e.fls||e.morphs;if(t){if(e.verb){let e=r.a.filter(t,e=>e.numper),i=r.a.filter(t,e=>e.numcase),o=r.a.filter(t,e=>!e.numcase&&!e.numper);if(n=e.map(e=>[e.tense,e.numper].join(" ")),i.length){let e=i.map(e=>[e.tense,[e.gend,e.numcase].join(".")].join(", "));n=n.concat(e)}if(o.length){let e=o.map(e=>e.tense);n=n.concat(e)}}else e.name&&e.gends?n=t.map(n=>[e.gends.toString(),n.numcase].join(".")):e.name?n=t.map(e=>[e.gend,e.numcase].join(".")):"pron"==e.pos?n=t.map(e=>[e.gend||"-",e.numcase].join(".")):"art"==e.pos?n=t.map(e=>[e.gend,e.numcase].join(".")):"adv"==e.pos?n=t.map(e=>e.degree):"part"==e.pos&&(n=t.map(e=>[e.gend,e.numcase].join(".")));if(!n)return!1;if("."==n.toString()){let e=t.map(e=>e.degree).toString();n="adv"==e?["adverb"]:[["adverb:",e].join(" ")]}return n}}function B(e){let n=c("ul","dict-fls");return e.forEach(e=>{let t=c("li");t.textContent=e,n.appendChild(t)}),n}function G(e){let n=c("ul","dict-trns");return e.trns||(e.trns=["no transtation in this dict article"]),e.trns.forEach(e=>{let t=c("li","dict-trns-li"),i=e.split(/, [A-Z]| [A-Z][^ ]*[0-9]/)[0],r=e.replace(i,"").split("(").join('<span class="grey">').split(")").join("</span>"),o=d("","is-hidden");o.innerHTML=r,o.classList.add("dict-trns-li-hidden"),t.innerHTML=i,t.appendChild(o),n.appendChild(t)}),n}const J=o.remote.app,$=(J.getAppPath(),J.getPath("userData"),console.log),Z=(t(14),t(0).remote.require("electron-settings")),K=t(39),{getCurrentWindow:W}=(t(2),t(0).remote);let Y,V,X=t(40).markdown,Q=[],ee=0;function ne(){ee<=0||((V=Q[--ee]).arrow=!0,re(V))}function te(){ee>=Q.length-1||((V=Q[++ee]).arrow=!0,re(V))}function ie(e){const n=(t=".section",document.querySelectorAll(t));var t;Array.prototype.forEach.call(n,e=>{e.classList.add("is-hidden")});let i=["#",e.sec,"_",e.lang].join("");if(!e.lang)throw new Error("NO LANG!");l(i)||(i=["#",e.sec,"_",v.config.deflang].join("")),l(i)&&l(i).classList.remove("is-hidden")}function re(e){if(ie(e),e.arrow)e.arrow=!1;else{let n=r.a.clone(e);Q.push(n),ee=Q.length-1}"main"==e.sec?(function(e){if(Y)return;let n=Z.get("split-sizes")||v.config.splitSizes;Y=M()(["#source","#result"],{sizes:n,gutterSize:5,cursor:"col-resize",minSize:[0,0],onDragEnd:function(e){Z.set("split-sizes",e),W().reload()}}),e.mono&&Y.collapse(e.mono)}(e),A(e)):"remote-dicts"==e.sec?L():"arrange-dicts"==e.sec||"db-info"==e.sec&&q(e),l("#progress").classList.add("is-hidden"),Z.set("state",e)}window.onbeforeunload=function(){let e=Z.get("state");o.ipcRenderer.send("unload",e)},o.ipcRenderer.on("action",function(e,n){"goleft"==n?ne():"goright"==n&&te()}),K.bind(["ctrl+1","ctrl+2"],function(e){}),K.bind(["esc"],function(e){!function(){let e=l("#popup");e&&f(e);let n=l("#etyrels");n&&f(n)}()}),K.bind(["alt+left","alt+right"],function(e){37==e.which?ne():39==e.which&&te()}),K.bind(["ctrl+p"],function(e){let n=l("span.active-form:hover");if(!n.classList.contains("active-form"))return;let t=["http://www.perseus.tufts.edu/hopper/morph?l=",n.textContent,"&la=greek#lexicon"].join("");o.shell.openExternal(t)}),K.bind(["ctrl+j"],function(e){let n=X.toHTML("Hello *World*!");$("START  MD",n)}),K.bind(["ctrl+d"],function(e){let n=Z.get("state");n.pars&&(n.ldpath="/home/michael/diglossa.texts/Dyscolus",n.kuku=!0,Z.set("state",n),n.ldpath&&($("CTRL-D",n.ldpath),function(e){let n=e.ldpath,t=y.a.resolve(n,"local.csv");if(!j.existsSync(t))return;let i=y.a.resolve(n,"localChunk.csv"),o={};Object(k.freqChunk)(o,e.pars);let a=r.a.values(o);Object(k.createCsv)(i,a)}(n)))}),K.bind(["ctrl+shift+d"],function(e){let n=Z.get("state");n.ldpath="/home/michael/diglossa.texts/Dyscolus",n.ldpath&&($("CTRL-SHIFT-D",n.ldpath),function(e){let n=y.a.resolve(e.ldpath,"local.csv");if(!j.existsSync(n))return;let t=y.a.resolve(e.ldpath,"localChunk.csv");j.existsSync(t)&&Promise.all([Object(k.generateDocs)(n),Object(k.generateDocs)(t)]).then(e=>{E("DOCS from local",e[0]),E("DOCS from chunk",e[1]);let n=e[0];e[1].forEach(e=>{let t=r.a.find(n,n=>n._id==e._id);t?t=e:n.push(e)});let t=w.getPath("userData");t=y.a.resolve(process.env.HOME,".config/MorpheusGreek (development)"),Object(x.createFromCsv)(t,n)})}(n))}),K.bind(["ctrl+f"],function(e){V.sec="home",re(V)}),K.bind(["ctrl+="],function(e){let n=o.webFrame.getZoomFactor()+.1;o.webFrame.setZoomFactor(n)}),K.bind(["ctrl+-"],function(e){let n=o.webFrame.getZoomFactor()-.1;o.webFrame.setZoomFactor(n)}),K.bind(["ctrl+0"],function(e){o.webFrame.setZoomFactor(1)});const oe=o.remote.Menu,ae=o.remote.MenuItem,se=new ae({label:"Cut",click:()=>{document.execCommand("cut")}}),le=new ae({label:"Copy",click:()=>{document.execCommand("copy")}}),ce=new ae({label:"Paste",click:()=>{document.execCommand("paste")}}),de=new oe;de.append(le);const ue=new oe;ue.append(se),ue.append(le),ue.append(ce),document.addEventListener("contextmenu",e=>{switch(e.target.nodeName){case"TEXTAREA":case"INPUT":e.preventDefault(),ue.popup(o.remote.getCurrentWindow());break;default:(()=>""!==window.getSelection().toString())()&&(e.preventDefault(),de.popup(o.remote.getCurrentWindow()))}},!1);const fe=console.log,pe=(o.remote.app,t(14)),ge=t(0).remote.require("electron-settings"),he=t(41);!function(e){let n=l("#container");e.langs.forEach(t=>{e.pages.forEach(i=>{let r,o,a;try{r=m.resolve(__dirname,"../src/sections",t,[i,"md"].join(".")),o=h.readFileSync(r).toString(),a=p.render(o)}catch(n){r=m.resolve(__dirname,"../src/sections",e.deflang,[i,"md"].join(".")),o=h.readFileSync(r).toString(),a=p.render(o)}let s=c("div","section");s.id=[i,t].join("_"),s.setAttribute("lang",t),s.classList.add("is-hidden"),s.innerHTML=a,n.appendChild(s.cloneNode(!0))})})}(v.config);let me=ge.get("state");me&&me.lang||(me={sec:v.config.defstate,lang:v.config.deflang}),re(me),o.ipcRenderer.on("section",function(e,n){me.sec=n,re(me)}),o.ipcRenderer.on("lang",function(e,n){me.lang=n,ge.set("state",me),o.ipcRenderer.send("lang",n),o.remote.getCurrentWindow().reload()}),pe.on("text-changed",()=>{let e=function(e){let n=e.trim();return n=(n=(n=n.replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")).replace(/̆/gi,"")).replace(/-/g,"")}(pe.readText()),n=s()(e,v.config.code);n&&(me.sec="main",me.pars=n,re(me))}).startWatching();l("#progress"),l("#message");document.addEventListener("click",e=>{let n=e.target,t=n.dataset;if(n.classList.contains("external")){let e=n.textContent;o.shell.openExternal(e)}else if(n.classList.contains("dict-dname"))fe("D-DNAME",n),me.sec="dict-edit",re(me);else if(n.classList.contains("active-form"))F(n,!0);else if(n.classList.contains("dict-query")){let e=n.nextSibling;e&&e.classList.contains("is-hidden")?e.classList.remove("is-hidden"):e&&e.classList.add("is-hidden")}else if(n.classList.contains("dict-header")||n.classList.contains("dict-rdict")||n.classList.contains("dict-pos")||n.classList.contains("dict-gends")){let e=n.closest(".dict-container"),t=e.querySelector(".dict-fls"),i=e.querySelector(".dict-trns");t&&t.classList.contains("is-hidden")?t.classList.remove("is-hidden"):t&&t.classList.add("is-hidden"),i.classList.contains("is-hidden")?i.classList.remove("is-hidden"):i.classList.add("is-hidden")}else if(n.classList.contains("dict-trns-li")){let e=n.querySelector(".is-hidden");e?e.classList.remove("is-hidden"):(e=n.querySelector(".dict-trns-li-hidden")).classList.add("is-hidden")}if(t)if(t.href){l("#new-version").classList.add("is-hidden"),o.shell.openExternal(t.href)}else t.dinfo?(me.sec="db-info",me.dname=t.dinfo,re(me)):t.section&&(me.sec=t.section,re(me))}),document.addEventListener("mouseover",function(e){let n=e.target;n.textContent&&(e.ctrlKey||e.shiftKey||(n.classList.contains("active-form")?F(n):n.classList.contains("active-dict")?function(e){u(l("#result"));let n=JSON.parse(e.dataset.segdicts);n.length&&U({seg:e.textContent,dicts:n})}(n):n.classList.contains("sect-dict-line")&&fe("это от старого варианта, sect-dict-line")))},!1),o.ipcRenderer.on("version",function(e,n){he.get("https://api.github.com/repos/mbykov/pecha.js/releases/latest").then(function(e){if(!e||!e.data)return;let t=e.data.name;if(n&&t&&t>n){let e=l("#new-version"),n=["new version available:",t].join(" ");e.textContent=n,e.classList.remove("is-hidden")}}).catch(function(e){console.log("API.GITHUB ERR")})}),document.addEventListener("wheel",function(e){!function(e){let n,t=e.target.closest("#source")||e.target.closest("#result"),i=t.id,r=l("#source"),o=l("#result");n=1==e.shiftKey||1==e.ctrlKey?"source"==i?o:r:t;if(!n)return;let a=e.deltaY>0?32:-32;n.scrollTop+=a}(e)},!1)}]);
//# sourceMappingURL=app.js.map