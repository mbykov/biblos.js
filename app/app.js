!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=43)}([function(e,n){e.exports=require("electron")},function(e,n){e.exports=require("lodash")},function(e,n){e.exports=require("path")},function(e,n,t){"use strict";t.r(n),t.d(n,"config",function(){return i});const i={code:"grc",pages:["home","main","remote-dicts","db-info","arrange-dicts","help","dict-edit"],defstate:"home",splitSizes:[50,50],langs:["eng","deu","rus"],deflang:"eng"}},function(e,n){e.exports=require("fs-extra")},function(e){e.exports={name:"development",description:"Add here any environment specific stuff you like."}},function(e,n){e.exports=require("debug")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkConnection=function(e,n){(0,r.setDBs)(e,n)},n.createFromCsv=function(e,n){(0,r.createDB)(e,n)},n.antrax=function(e,n){var t=function(e){var n=(i=e,r=i.trim(),r=(r=(r=r.replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")).replace(/Ῐ/gi,"Ι").replace(/Ῑ/gi,"Ι")).replace(/̆/gi,"")),t=(0,c.comb)(n);var i,r;return(0,c.oxia)(t)}(e);a=t=t.replace(/-/g,""),u=!1,g=[],a.split("").forEach(function(e){if([s.accents.oxia,s.accents.peris].includes(e)){if(u)return;u=!0}g.push(e)}),t=g.join("");var a,u,g;var h=(0,o.segmenter)(t);n&&(h=i.default.filter(h,function(e){return e.length>2}));var m=i.default.uniq(h.map(function(e){return e[e.length-1]})),v=i.default.uniq(i.default.flatten(h.map(function(e){return e.slice(0,-1)}))),b=i.default.uniq(i.default.compact(v.map(function(e){return(0,c.plain)(e)}))),y=function(e){var n,t,r,o=[];return e.forEach(function(e){n=(0,c.plain)(e),r=i.default.first(e),t=(0,c.plain)(e);var a=l.strong2weak[r];if(s.vowels.includes(r))a&&a.forEach(function(n){var t=[n,e.slice(1)].join("");o.push(t)});else{var u=["ε",t].join("");o.push(u)}for(var d=function(e){var t=n.slice(0,e),i=l.augments[t];if(!i)return"continue";i.forEach(function(e){var i=[e,n.slice(t.length)].join("");o.push(i)})},f=1;f<6;f++)d(f)}),i.default.uniq(o)}(b);d("added:",y.toString());var x=(y=[]).length?i.default.uniq(b.concat(y)):b;return x.push(t),d("cwf:",t),d("lasts:",m.toString()),d("plainsegs:",x.toString()),Promise.all([(0,r.getTerm)(t),(0,r.queryDBs)(x),(0,r.getFlex)(m),(0,r.getComp)(x)]).then(function(e){var r=i.default.flatten(e[0]),o=i.default.flatten(e[1]),a=i.default.filter(o,function(e){return e.term&&e.term==t});r=r.concat(a),a=i.default.uniq(r.map(function(e){return e.term})),d("terms----\x3e",a.toString()),d("terms----\x3e",r.length),o=i.default.filter(o,function(e){return!e.term});var l=i.default.flatten(e[3]),u=i.default.flatten(e[2]);o=i.default.filter(o,function(e){return!e.indecl});var g=i.default.uniq(o.map(function(e){return e.plain}));d("dictplains----\x3e",g.toString()),d("dicts.size----\x3e",o.length);var m=i.default.uniq(l.map(function(e){return e.plain}));d("complains----\x3e",m.toString()),d("complains.size----\x3e",m.length);var v=i.default.filter(o,function(e){return e.pref}),b=i.default.uniq(v.map(function(e){return e.plain}));d("prefs----\x3e",b.toString(),v.length);var y=i.default.filter(o,function(e){return e.suf}),k=i.default.uniq(y.map(function(e){return e.plain}));d("sufs----\x3e",k.toString(),y.length);var w=i.default.filter(o,function(e){return"παραδεχομεν"==e.plain});d("kdicts----\x3e",w.length);var j=function(e,n){var t={};return e.forEach(function(e){var r=i.default.filter(n,function(n){return e===n.plain});if(t[e]=r,"ε"==i.default.first(e)){var o=e.slice(1),a=i.default.filter(n,function(e){return o===e.plain});t[e]=t[e].concat(a)}}),t}(x,o),C=i.default.filter(h,function(e){return 2==e.length});d("singles",C.length);var E=function(e,n,t){var r=[];return e.forEach(function(e){var o=e[1],a=((0,c.plain)(o),e[0]),s=(0,c.plain)(a),l=n[s];l=i.default.filter(l,function(e){return!e.comp&&!e.suf&&!e.pref});var u=i.default.filter(t,function(e){return e.term===o});if(u.length){var d=p(e,l,u);d&&r.push([d]);var g=f(e,l,u);g&&(g.single=!0),g&&r.push([g])}}),i.default.compact(r)}(C,j,u);if(d("total single chains",E.length),!E.length){var L=i.default.filter(h,function(e){return 3==e.length});d("doubles",L.length);var S=function(e,n,t){var r=[];return e.forEach(function(e){var o=(0,c.plain)(e[0]),a=n[o],l=e[1],u=(0,c.plain)(l),d=n[u],g=i.default.last(e),h=i.default.filter(t,function(e){return e.term===g});if(h.length){a=i.default.filter(a,function(e){return e.plain.length>1});var m,v,b=i.default.filter(a,function(e){return e.pref}),y=i.default.filter(d,function(e){return e.verb&&"pres"==e.time||e.name||e.part}),x=i.default.filter(a,function(e){return e.verb&&"pres"==e.time}),k=i.default.filter(a,function(e){return e.name}),w=i.default.filter(a,function(e){return e.name||e.verb&&"pres"==e.time}),j=e.slice(1),C=s.vowels.includes(u)?e[1]:null,E={conn:!0,seg:C,dicts:[]},L=[];C&&L.push(E);var S=f(j,L,h);if(S){S.double=!0;var _={seg:e[0],dicts:w,weight:0};r.push([_,S])}if(b.length&&y.length){var q={seg:e[0],dicts:b,weight:0,pref:!0},R=p(j,y,h);R&&(v=[q,R],r.push(v))}var O=i.default.filter(d,function(e){return e.suf});if(O.length){var M=p(j,O,h);if(M){M.str=M.dicts.map(function(e){return e.rdict}).toString();var z=i.default.filter(O,function(e){return e.verb}),A=i.default.filter(O,function(e){return e.verb&&"pres"==e.time&&"name"==e.stem}),D=i.default.filter(O,function(e){return e.name&&"name"==e.stem}),N=i.default.filter(O,function(e){return e.name&&"verb"==e.stem}),T=i.default.filter(O,function(e){return e.verb&&"pres"==e.time&&!e.stem});if(x.length&&z.length){var F={seg:e[0],dicts:x,weight:0};M.vsuf=!0,m=[F,M]}else if(k.length&&D.length){var P={seg:e[0],dicts:k,weight:0};M.nnsuf=!0,m=[P,M]}else if(x.length&&N.length){var U={seg:e[0],dicts:x,weight:0};M.nvsuf=!0,m=[U,M]}else if(k.length&&A.length){var B={seg:e[0],dicts:k,weight:0};M.vnsuf=!0,m=[B,M]}else if(w.length&&T.length){var H={seg:e[0],dicts:w,weight:0};M.vanysuf=!0,m=[H,M]}m&&r.push(m)}}}}),r}(L,j,u);if(E.push(S),E=i.default.compact(i.default.flatten(E)),d("total double chains",E.length),!E.length){var _=i.default.filter(h,function(e){return 4==e.length});d("triples",_.length);var q=function(e,n,t){var r=[];return e.forEach(function(e){var o=(0,c.plain)(e[0]),a=n[o],l=e[1],u=(0,c.plain)(l),d=n[u],f=e[2],g=(0,c.plain)(f),h=n[g],m=i.default.last(e),v=i.default.filter(t,function(e){return e.term===m});if(v.length){var b,y,x=i.default.filter(a,function(e){return e.pref}),k=i.default.filter(d,function(e){return e.pref}),w=(i.default.filter(d,function(e){return e.verb||e.name||e.part}),i.default.filter(h,function(e){return e.verb||e.name||e.part})),j=i.default.filter(a,function(e){return e.verb}),C=i.default.filter(a,function(e){return e.name}),E=i.default.filter(a,function(e){return e.name||e.verb}),L=e.slice(2);if(x.length&&k.length&&w.length){var S={seg:e[0],dicts:x,weight:0,pref:!0},_={seg:e[1],dicts:k,weight:0,pref:!0},q=p(L,w,v);q&&(y=[S,_,q],r.push(y))}var R=s.vowels.includes(u)?e[1]:null;if(R){var O=i.default.filter(h,function(e){return e.suf});if(O.length){var M=p(L,O,v);if(M){M.str=M.dicts.map(function(e){return e.rdict}).toString();var z=i.default.filter(O,function(e){return e.verb}),A=i.default.filter(O,function(e){return e.verb&&"name"==e.stem}),D=i.default.filter(O,function(e){return e.name&&"name"==e.stem}),N=i.default.filter(O,function(e){return e.name&&"verb"==e.stem}),T=i.default.filter(O,function(e){return e.name&&!e.stem}),F={conn:!0,seg:R,dicts:[]},P=e.join("");if(j.length&&z.length,R&&j.length&&N.length){if([e[0],R,M.seg].join("")!=P)return;var U={seg:e[0],dicts:j,weight:0};M.suf=!0,b=[U,F,M]}else if(R&&C.length&&D.length){if([e[0],R,M.seg].join("")!=P)return;var B={seg:e[0],dicts:C,weight:0};M.suf=!0,b=[B,F,M]}else C.length&&A.length,E.length&&T.length;b&&r.push(b)}}}}}),r}(_,j,u);E.push(q),E=i.default.compact(i.default.flatten(E)),d("total triple chains",E.length)}}var R=function(e,n){var t;if(n)t=e;else{var r=i.default.min(e.map(function(e){return e.length}));t=i.default.filter(e,function(e){return e.length==r})}return i.default.compact(t)}(E,n);d("bests =>",R.length),R.length&&(E=R),d("result-chain---\x3e",E),E.forEach(function(e){var n=e.map(function(e){return e.dicts.map(function(e){return e.rdict})});d("result-dicts---\x3e",i.default.flatten(n));var t=e.map(function(e){return e.dicts.map(function(e){return e.fls})});d("result-fls---\x3e",i.default.flatten(t))});var O={};return E.length&&(O.chains=E),r.length&&(O.terms=r),E.length&&n&&(O.compound=!0),O})};var i=u(t(1)),r=t(28),o=t(30),a=t(31),s=t(9),l=t(33),c=(u(t(8)),t(10));function u(e){return e&&e.__esModule?e:{default:e}}t(2),console.log;var d=t(6)("app");process.argv.slice(2)[0];function f(e,n,t){var r=i.default.filter(t,function(e){return e.suf&&e.adv});if(r.length){var o=i.default.filter(n,function(e){return e.name||e.conn});if(o.length){var a={seg:e[0],dicts:o,weight:0,adv:!0,term:!0};return a.suffix=r,a.segs=JSON.stringify(e),a}}}function p(e,n,t){var r=i.default.filter(n,function(e){return e.name||e.verb&&e.plain.length>1||e.part});if(r.length){var o=function(e,n){var t=i.default.filter(e,function(e){return e.name}),r=i.default.filter(n,function(e){return e.name}),o=i.default.filter(e,function(e){return e.verb}),s=i.default.filter(n,function(e){return e.verb}),l=(0,a.parseName)(t,r),c=(0,a.parseVerb)(o,s);return l.push(c),l=i.default.flatten(l)}(r,t);if(o.length){var s=o.map(function(e){return e.rdict}).toString();return{seg:e.join(""),dicts:o,weight:0,str:s}}}}},function(e,n){e.exports=require("util")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dbg=function(){"log"==b&&console.log.apply(console,arguments)},n.insp=function(){if("insp"!=b)return;var e=l.default.values(arguments);1===e.length&&(e=e[0]);console.log(u.inspect(e,!1,null,!0))},n.mood=n.voice=n.time=n.apicompats=n.augmods=n.augs=n.apiaugs=n.affixes=n.strongs=n.weaks=n.eaug=n.vowels=n.contrs=n.mutes=n.accents=void 0;var i,r,o,a,s,l=(i=t(1))&&i.__esModule?i:{default:i};function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=t(8),d=(c(r={oxia:"́",varia_:"`",varia:"̀",peris:"͂","":"",psili:"̓",dasia:"̔"},"",""),c(r,"ypo","ͅ"),c(r,"",""),r),f=d;n.accents=f;n.mutes=function(){return["ψ","ξ"]};var p={ew:["ε",d.oxia,"ω"].join(""),aw:["α",d.oxia,"ω"].join(""),ow:["ο",d.oxia,"ω"].join("")};n.contrs=p;n.vowels=["α","ε","ι","ο","ω","η","υ"];n.eaug="ε";var g=(c(o={"α":["η"],"αι":["ῃ"],"ανα":["ανε","ανη"],"αν":["ανε"],"απα":["απη"],"απαι":["απῃ"],"απε":["απει"],"απο":["απε","απω"],"αφαι":["αφῃ"],"αφο":["αφω"],"αρα":["ηρα"],"ε":["η"],"δια":["διε","διη"],"διε":["διη"],"διαι":["διῃ"],"εισε":["ειση"],"εκ":["εξε"],"εκρ":["εξερρ"],"εξα":["εξη"],"εξε":["εξη"],"εν":["ενε"],"επεν":["επενε"],"εμ":["ενε"],"επα":["επη"],"επαι":["επῃ"],"επι":["επε","επει"],"επε":["επι","επη"],"επο":["επω"],"ευα":["ευη"],"η":["ε"],"κατα":["κατε","κατη"],"κατοι":["κατῳ"],"μετα":["μετε"],"ο":["ω"],"οι":["ῳ"],"παρα":["παρε"],"παρε":["παρη"],"περι":["περιε"],"περιε":["περιη"],"προσ":["προσε"],"προσα":["προση"],"προσε":["προση","προσ"],"προ":["προε"],"ρ":["ερρ"],"συνε":["συνη","συνει","συγ","συλ","συμ"],"συλ":["συνε"],"συμ":["συνε"],"συσ":["συνε"],"συγ":["συνε"],"συνη":["συνα"],"υπα":["υπη"],"υπο":["υπε"],"":[""]},"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),c(o,"",[""]),o);n.weaks=g;var h=(c(a={"η":"α","ω":"ο","ᾐ":"αι","":""},"",""),c(a,"",""),a);n.strongs=h;var m=(c(s={"διε":"δια","διῃ":"διαι","διη":"δια","διῳ":"διοι","εξε":"εκ","εξερρ":"εκρ","εξεκ":"εκ","":""},"",""),c(s,"",""),s);n.affixes=m;var v=[["α",d.psili].join(""),["α",d.dasia].join(""),["αι",d.psili].join(""),["αι",d.dasia].join(""),["αυ",d.psili].join(""),["αυ",d.dasia].join(""),["ε",d.psili].join(""),["ε",d.dasia].join(""),["ει",d.psili].join(""),["ει",d.dasia].join(""),["ευ",d.psili].join(""),["ευ",d.dasia].join(""),["ο",d.psili].join(""),["ο",d.dasia].join(""),["οι",d.psili].join(""),["οι",d.dasia].join(""),["ου",d.psili].join(""),["ου",d.dasia].join(""),["ι",d.psili].join(""),["ι",d.dasia].join(""),["υ",d.psili].join(""),["υ",d.dasia].join(""),["ω",d.psili].join(""),["ω",d.dasia].join(""),["η",d.psili].join(""),["η",d.psili,d.ypo].join(""),["η",d.dasia].join("")];n.apiaugs=v;n.augs={"X̓":"ἐ","ἀ":"ἀ ἠ","ἠ":"ἠ ἀ","ἡ":"ἡ","ὁ":"ὁ ὡ","ὡ":"ὁ ὡ","ᾐ":"αἰ"};n.augmods=["act.impf.ind","mp.impf.ind","act.aor.ind","mid.aor.ind","act.ppf.ind","mp.ppf.ind","pas.aor.ind"];n.apicompats=["act.pres.ind","act.fut.ind","act.impf.ind","mp.pres.ind","mp.impf.ind","act.pres.sub","mp.pres.sub","mp.pres.opt","act.pres.opt","act.pres.imp","mp.pres.imp","mid.fut.ind","act.fut.opt","mid.fut.opt","act.aor.ind","mid.aor.ind","act.aor.sub","mid.aor.sub","act.aor.opt","mid.aor.opt","act.aor.imp","mid.aor.imp","pas.aor.ind","pas.fut.ind","pas.fut.opt","pas.aor.sub","","",""];n.time=function(e){return e.split(".")[1]};n.voice=function(e){return e.split(".")[0]};n.mood=function(e){return e.split(".")[2]};var b=process.argv.slice(3)[0]},function(e,n){e.exports=require("orthos")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.freq=function(e){var n={},t=u.readdirSync(e);l("Fs",t.length);var i=d.resolve(e,"periSyntaxeos.txt");(t=[i]).forEach(function(t){var i=d.resolve(e,t),o=u.readFileSync(i,"utf8").trim(),a=o.split("\n");(a=(a=s.compact(a)).slice(3,4)).forEach(function(e,t){var i=function(e){var n=e.trim();return n=(n=n.replace(/\.$/,"")).replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")}(e),o=(0,r.default)(i,g);o&&h(n,o)})});var o=s.values(n);return s.sortBy(o,"wf")},n.createCsv=m,n.generateDictChunk=function(e){var n=e.ldpath,t=d.resolve(n,"local.dict.csv"),i=d.resolve(n,"local.chunk.csv");u.ensureFileSync(t),u.removeSync(i);var r={};h(r,e.pars);var o=s.values(r);m(t,i,o)},n.mergeDictChunk=function(e,n){var t=d.resolve(e,"local.dict.csv"),i=d.resolve(e,"local.chunk.csv");return Promise.all([b(t).then(function(e){return y(e)}),b(i).then(function(e){return y(e)})]).then(function(e){var i=e[0],r=e[1],o=[];r.forEach(function(e){o.push(e)}),i.forEach(function(e){var n=s.find(r,function(n){return e._id==n._id});n||o.push(e)}),n&&(0,a.createFromCsv)(n,o);var l=[];o.forEach(function(e){e.docs.forEach(function(e){var n,t,i=e.term?e.term:e.rdict,r=e.trns.join(",");e.verb?(n=e.vkey,t="verb"):e.name&&e.gends?(n=[e.gends.toString(),e.keys.toString()].join(","),t="name"):e.name?(n=e.adkey,t="name"):e.term&&(n=e.pos,t="term");var o=[i,t,n,r];l.push(o)})});var c=l.map(function(e){return e.join("; ")}).join("\n");return u.writeFileSync(t,c),l}).catch(function(e){c("CSV-ERR",e)})},n.readCsv=b,n.updateLocalDict=function(e){c("___updateLocalDict___",e)};var i,r=(i=t(35))&&i.__esModule?i:{default:i},o=t(10),a=t(7);var s=t(1),l=t(6)("csv"),c=console.log,u=t(4),d=t(2),f=t(36),p=(t(37),t(38)),g="grc";function h(e,n){n.forEach(function(n){n.forEach(function(n){n.lang&&n.text.split(" ").forEach(function(n){n=(n=(0,o.oxia)((0,o.comb)(n))).toLowerCase(),e[n]?e[n].freq+=1:e[n]={wf:n,freq:1}})})})}function m(e,n,t){var i,r;f.pipe((i=t,r=0,f.from.obj(function(e,n){if(r==i.length)return n(null,null);var t=i[r];r++,n(null,t)})),f.parallel(5,v),function(e,n){var t=[],i={};return f.through.obj(function(e,n,t){e.forEach(function(e){var n=[e.wf,e.pos,e.key].join("-");i[n]||(i[n]=e)}),t()},function(r){var o=s.values(i);o.forEach(function(e){var n,i=e.term?e.term:e.rdict;"verb"==e.type?n=e.vkey:"name"==e.type&&e.gend?n=[e.gend,e.key].join(","):"name"==e.type?n=e.key:"term"==e.type?n=e.pos:"unknown"==e.type&&(n="-");var r=[i,e.type,n,""];t.push(r)}),function(e,n,t){b(e).then(function(e){c("dictcsvs",e.length),t.forEach(function(n){e.forEach(function(e){var t=e[0]==n[0]&&e[1]==n[1]&&e[2]==n[2]&&e[3];t&&(n[3]=e[3])})});var i=t.map(function(e){return e.join("; ")}).join("\n");u.writeFileSync(n,i)})}(e,n,t),r(null,null)})}(e,n))}function v(e,n){var t=e.wf;if(c("ANT-WF",t),!t)return n(null,null);(0,a.antrax)(t).then(function(e){var i=[];if(e.chains)e.chains.forEach(function(e){var n;if(e.length>1)n={rdict:t,type:"compound",keys:e.map(function(e){return e.seg}).join("-")};else if(1==e.length){var r=e[0],o=s.filter(r.dicts,function(e){return e.name}),a=s.filter(r.dicts,function(e){return e.verb&&"pres"==e.time}),l=o[0],c=a[0];c&&(n={type:"verb",wf:t,rdict:c.rdict,dict:c.dict,plain:c.plain,vkey:c.vkey}),l&&(n={type:"name",wf:t,rdict:l.rdict,dict:l.dict,plain:l.plain},l.keys&&(n.key=l.keys.toString()),l.adkey&&(n.key=l.adkey),l.gends&&(n.gend=l.gends[0]))}n&&i.push(n)});else if(e.terms){var r,o=s.filter(e.terms,function(e){return!e.pos||"unknown"==e.pos}),a=s.filter(e.terms,function(e){return"unknown"!=e.pos});a.length?a.forEach(function(e){r={type:"term",pos:e.pos,wf:t,term:e.term}}):o.forEach(function(e){r={type:"term",pos:e.pos,wf:t,term:e.term}}),i.push(r)}else{var l={type:"unknown",wf:t,pos:"-",term:t};i.push(l)}n(null,i)}).catch(function(e){console.log("CSV-ANTRAX-ERR",e)})}function b(e){var n=u.createReadStream(e);return new Promise(function(e,t){var i=p({delimiter:";",trim:!0,comment:"#",skip_empty_lines:!0},function(n,i){n&&t(n),e(i)});n.pipe(i)})}function y(e){var n={};return e.forEach(function(e){var t=e[1];if(t&&"-"!=t){var i=e[0],r=e[2],a=e[3];if(a&&r&&"-"!=r){var s,l,u,d,f,p,g,h=a.split(","),m=[i,r].join("-");if(u=(0,o.oxia)((0,o.comb)(i)),"term"==t)l={term:u,type:"term",pos:r,trns:h},d=u;else if("name"==t){var v=r.split(",")[0].trim(),b=r;if(["masc","fem","neut"].includes(v)?b=r.split(",").slice(1).join(","):v=null,b=(0,o.comb)(b),p=(0,o.plain)(b.split("-")[0]),g=new RegExp(p+"$"),(f=(0,o.plain)(u).replace(g,""))==(0,o.plain)(u))return void c("PLAIN-DICT-NAME-ERROR:",u,f,"gend:",v,"keys",b,p,"=",e);l={name:!0,rdict:i,dict:u,plain:f,trns:h},v?(l.gends=[v],l.keys=[b]):l.adkey=b,d=f}else"verb"==t&&(r.split("-").forEach(function(e){e=(0,o.comb)(e),g=new RegExp((0,o.plain)(e)+"$"),f=(0,o.plain)(u).replace(g,""),(0,o.plain)(u)}),(l={rdict:i,dict:u,plain:f,vkey:r,trns:h}).verb=!0,l.reg=!0,d=f);n[m]?n[m].docs.push(l):(s={_id:d,docs:[l]},n[m]=s)}}}),s.values(n)}},,function(e,n){e.exports=require("pouchdb")},function(e,n){e.exports=require("electron-clipboard-extended")},,function(e,n){e.exports=require("speckled-band")},function(e,n){e.exports=require("split.js")},,function(e,n,t){var i=t(20);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(24)(i,r);i.locals&&(e.exports=i.locals)},function(e,n,t){n=e.exports=t(21)(!1);var i=t(22)(t(23));n.push([e.i,'/* @import "./treeview.min.css" */\n\np {\n  padding-bottom: 6px;\n}\n\nh4 {\n  color: maroon;\n}\n\n/* .is-shown { */\n/*     display: block!important; */\n/* } */\n\n.is-hidden {\n  display: none!important;\n}\n\n#main {\n    margin: 0;\n    padding: 10px;\n    height: 100%;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n#home {\n    padding-top: 25px;\n}\n\n#title {\n    margin: 0;\n    padding: 10px;\n    height: 100%;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n.section {\n    margin: 15px;\n    margin-top: 15px;\n    display: block;\n    overflow-y: hidden;\n    height: 100%;\n    padding-bottom: 120px;\n    margin-bottom: 120px;\n    font-family: "Helvetica Neue", Helvetica, Arial;\n    font-size: 1em;\n    position: relative;\n}\n\n.split {\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.gutter {\n    background-color: #eee;\n    background-repeat: no-repeat;\n    background-position: 50%;\n    height: 100%;\n    width: 5px;\n}\n\n.gutter.gutter-horizontal {\n    background-image: url('+i+");\n    cursor: ew-resize;\n}\n\n.split, .gutter.gutter-horizontal {\n    height: 100%;\n    float: left;\n}\n\n#source {\n    font-family: \"Helvetica Neue\", Helvetica, Arial;\n    font-size: 1em;\n    padding-left: 15px;\n    padding-top: 25px;\n    padding-bottom: 25px;\n    overflow-y: hidden;\n    line-height: 1.5;\n    /* overflow-x: hidden; */\n}\n\n#result {\n    font-family: \"Helvetica Neue\", Helvetica, Arial;\n    font-size: 0.9em;\n    padding-left: 15px;\n    padding-top: 25px;\n    padding-bottom: 25px;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n\n.link {\n  cursor: pointer;\n  color: maroon;\n}\n\n.dinfo {\n    cursor: pointer;\n    color: maroon;\n}\n\n.clause {\n    background-color: #eee;\n}\n\n\n/* span { */\n    /* padding-right: 5px; */\n/* } */\n\nspan.space {\n    padding-right: 0;\n}\n\nspan.tibphrase {\n    padding-right: 0;\n}\n\nspan.term {\n    padding-right: 0;\n}\n\nspan.tibphrase:hover {\n    /* background-color: #eee8aa; */\n}\n\nspan.tibwf:hover {\n  background-color: #eee8aa;\n}\n\n.grey {\n    color: grey;\n}\n\nli.hidden {\n  display: none;\n}\n\n.hidden {\n    display: none; /* !important */;\n}\n\n.activetrn {\n    display: block!important;\n}\n\ninput[type='file'] {\n    color: transparent;\n}\n\n.maroon {\n    color: maroon;\n}\n\n/* span.clear { clear: left; display: block; } */\n\n#book {\n  padding-top: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n\n#headers {\n  margin: 0;\n  height: 30px;\n}\n\n#headers > p {\n  margin: 0;\n  -webkit-margin-before: 0;\n}\n\n#trns > p.hidden {\n  display: none;\n}\n\n.hleft {\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  /* padding-left: 15px; */\n  padding-right: 15px;\n  color: maroon;\n}\n\n.hright {\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: maroon;\n}\n\n.header {\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  background: white;\n  padding: 5px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n/* #headers { */\n/*   height: 16px; */\n/*   padding-bottom: 10px; */\n/* } */\n\n#book > div.hright > ul  {\n  margin: 0;\n  padding: 0;\n  -webkit-margin-before: 0;\n  -webkit-margin-after: 0;\n  -webkit-margin-start: 0;\n  -webkit-margin-end: 0;\n  -webkit-padding-start: 0;\n}\n\n#book {\n  margin: 0;\n  padding: 0;\n  -webkit-margin-before: 0;\n  -webkit-margin-after: 0;\n  -webkit-margin-start: 0;\n  -webkit-margin-end: 0;\n  -webkit-padding-start: 0;\n}\n\n.bookTitle {\n  margin-top: 80px;\n  margin-left: 50px;\n}\n\n.author {\n  font-size: 18px;\n}\n\n.title {\n  color: maroon;\n  font-size: 24px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.check-name {\n  padding-left: 5px;\n}\n\nspan.query {\n    cursor: pointer;\n    color: maroon;\n    font-weight: bold;\n}\n\n.libauth {\n  padding-top: 25px;\n  cursor: pointer;\n}\n\n.lib-auth {\n  padding: 10px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial;\n  font-size: 16px;\n  color: maroon;\n}\n\n.lib-auth::after {\n  content: ':'\n}\n\n.lib-title {\n  padding: 10px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial;\n  font-size: 16px;\n}\n\n.book-content {\n  padding-left: 10px;\n  font-size: 18px;\n  color: maroon;\n}\n\n/* #book > div.hleft.header > div > div:nth-child(2) */\ndiv.hleft.header > div.tree {\n  /* display: none; */\n}\n\n.qlink {\n  padding-right: 15px;\n  color: maroon;\n  cursor: pointer;\n}\n\n.qtext {\n  padding-left: 15px;\n}\n\n/* #source > div:nth-child(2) > p:nth-child(4) */\n/* #source > div:nth-child(2) > div > p:nth-child(2) */\ndiv.qtext > p.hidden {\n  display: none;\n}\n\n.disclaimer {\n  font-size: 10px;\n  }\n\n.qtitle {\n  color: maroon;\n  font-size: 24px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.statline {\n    padding-left: 25px;\n}\n\n.statnic {\n    width: 150px;\n}\n\n.statnic::after {\n    content: ': ';\n}\n\n.green {\n    color: green;\n}\n\n.red {\n    color: red;\n}\n\n#transcript {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  /* background-color: white; */\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1100;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  font-size: 16px;\n  padding: 3px;\n  background-color: #e6ffcc;\n}\n\n#ambi {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1000;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  padding: 3px;\n  background-color: white;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.upper {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  color: black;\n  display: 'block';\n  padding: 3px;\n  position: absolute;\n  z-index: 1001;\n  box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n  height: auto;\n  top: 250px;\n  left: 300px;\n  /* font-family: 'DejaVu Sans'; */\n  padding: 3px;\n  background-color: white;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.danger {\n  background-color: #fff2e6;\n}\n\n#ambi > ul {\n  /* magrin: 0; */\n  /* padding-inline-start: 0; */\n  /* margin-block-start: 0; */\n  /* margin-block-end: 0; */\n  padding: 3px;\n}\n\n#ambi > ul > li > span {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.upper > ul > li > span {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\nspan.active-form {\n    cursor: pointer;\n}\n\nspan.active-form:hover {\n    background-color: #eee8aa;\n}\n\nspan.active-dict {\n    cursor: pointer;\n}\n\nspan.active-dict:hover {\n    background-color: #eee8aa;\n}\n\n.punct {\n    padding-right: 2px;\n}\n\n.dict-div {\n}\n\n.dict-query {\n    color: maroon;\n    background-color: #eee;\n    padding-left: 5px;\n    padding-top: 5px;\n    margin-top: 5px;\n    /* padding-right: 15px; */\n}\n\n.dict-header {\n    margin-top: 5px;\n}\n\n.dict-div {\n}\n\n.dict-ul {\n  font-size: small;\n  /* padding-left: 15px; */\n}\n\n.dict-dname {\n  float: right;\n  color: green;\n}\n\n.dict-gends {\n    font-style: italic;\n}\n\n.dict-pos {\n    font-style: italic;\n}\n\n.dict-rdict {\n    width: 50%;\n    padding: 5px;\n}\n\nul.dict-fls {\n    padding-left: 15px;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    background-color: #A4F3F3;\n}\n\nul.dict-trns {\n    padding-top: 5px;\n    padding-left: 25px;\n    line-height: 1.3;\n}\n\n.dict-article {\n    padding-top: 12px;\n}\n\n.dicts-table {\n  width: 100%;\n  margin-top: 25px;\n}\n\n\n#arrange-dicts {\n  margin-top: 50px;\n}\n\n.dictname {\n  cursor: pointer;\n  color: maroon;\n}\n\n.dict-check {\n  width: 20px;\n  height: 20px;\n}\n\n.active-dict {\n  width: 100px;\n}\n\n#pechatxt {\n  padding-left: 15px;\n  padding-top: 25px;\n  padding-bottom: 25px;\n  font-family: 'YagpoUni';\n  font-size: 1.5em;\n}\n\n.dictcsv {\n  color: maroon;\n  cursor: pointer;\n}\n\n.table-header {\n  color: maroon;\n  font-weight: bold;\n}\n\nul.info-table {\n    line-height: 1.5em;\n    list-style: none;\n\n}\n\n\n.popup {\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    color: black;\n    display: 'block';\n    padding: 3px;\n    position: absolute;\n    z-index: 1001;\n    box-shadow: 0.15em 0.15em 1em rgba(0, 0, 0, 0.75);\n    height: auto;\n    top: 250px;\n    left: 300px;\n    background-color: white;\n    font-size: 1.5em;\n}\n\n.comp-segment {\n    /* color: 'red'; */\n}\n\n.comp-segment:after {\n    content: ' - ';\n}\n\n.sect-dicts-ul {\n    list-style: none;\n    padding: 5px;\n    background-color: #E9FED6;\n}\n.sect-dict-line {\n    cursor: pointer;\n}\n",""])},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(o).concat([r]).join("\n")}var a;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&i[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){"use strict";e.exports=function(e,n){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||n?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,n,t){e.exports=t.p+"aeed77a8b9081818ddf762cf8f7e2829.png"},function(e,n,t){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,u=[],d=t(25);function f(e,n){for(var t=0;t<e.length;t++){var i=e[t],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],n))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],n));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,n){for(var t=[],i={},r=0;r<e.length;r++){var o=e[r],a=n.base?o[0]+n.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):t.push(i[a]={id:a,parts:[s]})}return t}function g(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),u.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertAt.before,t);t.insertBefore(n,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=u.indexOf(e);n>=0&&u.splice(n,1)}function m(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return v(n,e.attrs),g(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,r,o;if(n.transform&&e.css){if(!(o="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=o}if(n.singleton){var a=c++;t=l||(l=m(n)),i=k.bind(null,t,a,!1),r=k.bind(null,t,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),g(e,n),n}(n),i=function(e,n,t){var i=t.css,r=t.sourceMap,o=void 0===n.convertToAbsoluteUrls&&r;(n.convertToAbsoluteUrls||o)&&(i=d(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,n),r=function(){h(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),r=function(){h(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else r()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=p(e,n);return f(t,n),function(e){for(var i=[],r=0;r<t.length;r++){var a=t[r];(s=o[a.id]).refs--,i.push(s)}e&&f(p(e,n),n);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,x=(y=[],function(e,n){return y[e]=n,y.filter(Boolean).join("\n")});function k(e,n,t,i){var r=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(n,r);else{var o=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var r,o=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?t+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,n){e.exports=require("markdown-it")},function(e,n){e.exports=require("markdown-it-attrs")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setDBs=function(e,n){d("DBnames",n),o=[],n.forEach(function(n,t){if("flex"!=n&&"terms"!=n){var i=c.resolve(e,"pouch",n),r=new u(i);r.dname=n,r.weight=t,o.push(r)}});var t=c.resolve(e,"pouch","flex");a=new u(t);var i=c.resolve(e,"pouch","terms");s=new u(i);var r=c.resolve(e,"pouch","comp");l=new u(r)},n.queryDBs=function(e){return Promise.all(o.map(function(n){return n.allDocs({keys:e,include_docs:!0}).then(function(e){if(!e||!e.rows)throw new Error("no dbn result");var t=r.default.compact(e.rows.map(function(e){return e.doc})),i=r.default.flatten(r.default.compact(t.map(function(e){return e.docs})));return i.length?(i.forEach(function(e){e.dname=n.dname,e.weight=n.weight}),i):[]}).catch(function(e){console.log("ERR GET DBs",e)})}))},n.getFlex=function(e){return a.allDocs({keys:e,include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=[];return n.forEach(function(e){e.docs.forEach(function(e){t.push(e)})}),t})},n.getTerm=function(e){return s.allDocs({keys:[e],include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=r.default.flatten(n.map(function(e){return e.docs}));return t.forEach(function(e){e.dname="term",e.weight=0}),t})},n.getComp=function(e){return l.allDocs({keys:e,include_docs:!0}).then(function(e){var n=r.default.compact(e.rows.map(function(e){return e.doc})),t=r.default.flatten(n.map(function(e){return e.docs}));return t.forEach(function(e){e.dname="comp",e.weight=100}),t})},n.createDB=function(e,n){var t=c.resolve(e,"pouch","local"),i=r.default.find(o,function(e){return"local"==e.dname});i?i.destroy().then(function(i){d("___________EMPTY",t),o=r.default.filter(o,function(e){return"local"!=e.dname}),f(e,n)}):f(e,n)};var i,r=(i=t(1))&&i.__esModule?i:{default:i};t(29);var o,a,s,l,c=t(2),u=(t(4),t(13)),d=console.log;function f(e,n){var t=c.resolve(e,"pouch","local"),i=new u(t);i.dname="local",i.weight=0,o||(o=[]),o.unshift(i),i.bulkDocs(n).then(function(e){d("BULK-RES",e)})}},function(e,n){e.exports=require("copy-dir")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.segmenter=function(e){var n=e,t=[];return function e(i,r){var s=a(i);s.forEach(function(i){r.push(i.head),r.push(i.tail),r.join("")==n&&(t.push(o.default.clone(r)),r.pop()),r.length<3&&e(i.tail,r),r.pop()})}(e,[]),t},n.scrape=a;var i,r=t(9),o=(i=t(1))&&i.__esModule?i:{default:i};r.vowels,(0,r.mutes)();function a(e){e.length;for(var n,t,i=[],a=e,s=e.length;s>0;)if(s--,t=e.slice(s),(a=e.substr(0,s))&&(n=t[0],!o.default.values(r.accents).includes(n))){var l={head:a,tail:t};i.push(l)}return i}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseVerb=function(e,n){var t=[];e.forEach(function(e){if("παραδεχ_"==e.plain&&a("NC-d ===========================>>>",e.rdict),e.reg&&e.vkey&&!e.vkeys){var i=o.verbkeys[e.vkey];if(!i)return!1;e.vkeys=o.verbkeys[e.vkey].vkeys,e.pkeys=o.verbkeys[e.vkey].pkeys,e.ikeys=o.verbkeys[e.vkey].ikeys}if(e.reg&&e.vkeys&&(!e.pkeys||!e.ikeys)){var s=e.vkeys.pres[0];e.vkeys=o.verbkeys[s].vkeys,e.pkeys=o.verbkeys[s].pkeys,e.ikeys=o.verbkeys[s].ikeys}if(e.reg&&(!e.vkeys||!e.pkeys||!e.ikeys))return!1;var l=r.default.map(n,function(n){if(e.reg!=n.reg)return!1;if(e.reg){if(n.vkey&&!e.vkeys[n.time])return!1;if(n.vkey&&!e.vkeys[n.time].includes(n.vkey))return!1;if(n.pkey&&!e.pkeys[n.time])return!1;if(n.pkey&&!e.pkeys[n.time].includes(n.pkey))return!1;if(n.ikey&&!e.ikeys[n.time])return!1;if(n.ikey&&!e.ikeys[n.time].includes(n.ikey))return!1}else{if(e.time!=n.time)return!1;if(n.vkey&&e.vkey!=n.vkey)return!1;if(n.pkey&&e.pkey!=n.pkey)return!1;if(n.ikey&&e.ikey!=n.ikey)return!1}return n.numcase?{tense:n.tense,numcase:n.numcase,gend:n.gend}:{tense:n.tense,numper:n.numper}});if(l=r.default.compact(l),"παραδεχ_"==e.plain&&a("NC-FLS ===========================>>>",e.rdict,l.length),l.length&&l.length){var c;e.vkeys?c=e.vkeys.pres[0]:e.vkey&&(c=e.vkey);var u={verb:!0,time:e.time,rdict:e.rdict,plain:e.plain,vkey:c,dname:e.dname,trns:e.trns,weight:e.weight},d=[e.rdict,e.dname].join("-"),f={dictkey:d,dict:u,fls:l};t.push(f)}});var i=[],s=r.default.groupBy(t,"dictkey"),l=function(e){var n=s[e][0].dict,t=s[e].map(function(e){return e.fls}),o=[],a={};r.default.flatten(t).forEach(function(e){var n=JSON.stringify(e);a[n]||(o.push(e),a[n]=!0)}),n.fls=o,i.push(n)};for(var c in s)l(c);return i},n.parseName=function(e,n){var t=[];r.default.filter(e,function(e){return e.name}),r.default.filter(n,function(e){return e.name});return e.forEach(function(e){if(e.added||e.sliced)return!1;"παραδεχομεν"==e.plain&&a("NAME-d ===========================>>>",e);var i=r.default.filter(n,function(n){return!(e.keys&&!e.keys.includes(n.key)||e.adkey&&e.adkey!=n.adkey||e.gends&&!e.gends.includes(n.gend))});"παραδεχομεν"==e.plain&&a("NAME-flex.size ===========================>>>",i.length),(i=r.default.flattenDeep(i)).length&&(e.fls=function(e){var n=[],t={};return e.forEach(function(e){var i;i=e.adv?{adv:!0,term:e.term,degree:e.degree}:{name:!0,term:e.term,numcase:e.numcase},e.gend&&(i.gend=e.gend);var r=[i.gend,i.numcase].join("-");t[r]||(n.push(i),t[r]=!0)}),n}(i),t.push(e))}),t};t(9);var i,r=(i=t(1))&&i.__esModule?i:{default:i},o=t(32);t(10);var a=t(6)("app");console.log},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.verbkeys=void 0;var i={};n.verbkeys=i,i["έω-έομαι"]={},i["έω-έομαι"].vkeys={pres:["έω-έομαι","ῶ-οῦμαι"],impf:["εον-εόμην","ουν-ούμην"],fut:["ήσω-ήσομαι-ηθήσομαι"],aor:["ησα-ησάμην-ήθην"]},i["έω-έομαι"].pkeys={pres:["έων-έουσα-έον","ῶν-οῦσα-οῦν"],impf:[],fut:["ήσων-ήσουσα-ῆσον"],aor:["ήσας-ήσασα-ῆσαν"]},i["έω-έομαι"].ikeys={pres:["έειν-έεσθαι","εῖν-εῖσθαι"],impf:[],fut:["ήσειν-ήσεσθαι-ηθήσεσθαι"],aor:["ῆσαι-ήσασθαι-ηθῆναι"]},i["άω-άομαι"]={},i["άω-άομαι"].vkeys={pres:["άω-άομαι","ῶ-ῶμαι"],impf:["αον-αόμην","ων-ώμην"],fut:["ήσω-ήσομαι-ηθήσομαι"],aor:["ησα-ησάμην-ήθην"],pf:["ηκα"],ppf:["ήκειν"]},i["άω-άομαι"].pkeys={pres:["άων-άουσα-άον","ῶν-ῶσα-ῶν"],impf:[],fut:["ήσων-ήσουσα-ῆσον"],aor:["ήσας-ήσασα-ῆσαν"],pf:["ηκώς-ηκυῖα-ηκός"],ppf:[]},i["άω-άομαι"].ikeys={pres:["άειν-άεσθαι","ᾶν-ᾶσθαι"],impf:[],fut:["ήσειν-ήσεσθαι-ηθήσεσθαι"],aor:["ῆσαι-ήσασθαι-ηθῆναι"],pf:["ηκέναι"],ppf:[]},i["όω-οῦμαι"]={},i["όω-οῦμαι"].vkeys={pres:["ῶ-οῦμαι"],impf:["ουν-ούμην"],fut:["ώσω-ώσομαι-ωθησήσομαι"],aor:["ωσα-ωσάμην-ώθην","ωσα-ωσάμην-ώθην"],pf:["ωκα-ωμαι"],ppf:["ώκειν-ώμην"]},i["όω-οῦμαι"].pkeys={pres:["ῶν-οῦσα-οῦν"],impf:[],fut:["ώσων-ώσουσα-ῶσον"],aor:["ώσας-ώσασα-ῶσαν"],pf:["ωκώς-ωκυῖα-ωκός"],ppf:[]},i["όω-οῦμαι"].ikeys={pres:["οῦν-οῦσθαι"],impf:[],fut:["ώσειν-ώσεσθαι-ωθησήσεσθαι"],aor:["ῶσαι-ώσασθαι-ωθῆναι"],pf:["ωκέναι-ῶσθαι"],ppf:[]},i["ω-ομαι"]={},i["ω-ομαι"].vkeys={pres:["ω-ομαι"],impf:["ον-όμην"],fut:["σω-σομαι"],aor:["σα-σάμην-θην"],pf:["κα-μαι"]},i["ω-ομαι"].pkeys={pres:["ων-ουσα-ον"],impf:[],fut:["σων-σουσα-σον"],aor:["σας-σασα-σαν"],pf:["κώς-κυῖα-κός"]},i["ω-ομαι"].ikeys={pres:["ειν-εσθαι"],impf:[],fut:["σειν"],aor:["σαι-σασθαι-θῆναι"],pf:["κέναι-σθαι"]},i["ημι-εμαι"]={},i["ημι-εμαι"].vkeys={pres:["ημι-εμαι","ημι-αμαι"],impf:["ην-έμην","ην-έμην","ην-άμην"]},i["ημι-εμαι"].pkeys={pres:["είς-εῖσα-έν","άς-ᾶσα-άν"],impf:[]},i["ημι-εμαι"].ikeys={pres:["έναι-εσθαι","άναι-ασθαι"],impf:[]}},function(e,n,t){"use strict";var i,r;function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.augments=n.strong2weak=void 0;var a=(o(i={"η":["α","ε","αι"],"":[""]},"",[""]),o(i,"",[""]),i);n.strong2weak=a;var s=(o(r={"α":["η"],"αι":["ῃ"],"ανα":["ανε","ανη"],"αν":["ανε"],"απα":["απη"],"απαι":["απῃ"],"απε":["απει"],"απο":["απε","απω"],"αφαι":["αφῃ"],"αφο":["αφω"],"αρα":["ηρα"],"ε":["η"],"δια":["διε","διη"],"διε":["διη"],"διαι":["διῃ"],"εισε":["ειση"],"εκ":["εξε"],"εξα":["εξη"],"εξε":["εξη"],"εν":["ενε"],"επεν":["επενε"],"εμ":["ενε"],"επα":["επη"],"επαι":["επῃ"],"επι":["επε","επει"],"επε":["επι","επη"],"επο":["επω"],"ευα":["ευη"],"η":["ε"],"κατα":["κατε","κατη"],"κατοι":["κατῳ"],"μετα":["μετε"],"ο":["ω"],"οι":["ῳ"],"παρα":["παρε"],"παρε":["παρη"],"περι":["περιε"],"περιε":["περιη"],"προσ":["προσε"],"προσα":["προση"],"προσε":["προση","προσ"],"προ":["προε"],"ρ":["ερρ"],"συνε":["συνη","συνει","συμ"],"συλ":["συνε"],"συμ":["συνε"],"συσ":["συνε"],"συγ":["συνε"],"συνα":["συνη"],"υπα":["υπη"],"υπο":["υπε"],"":[""]},"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),o(r,"",[""]),r);n.augments=s},function(e,n){e.exports=require("request")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t(1),console.log,t(6)("app");var i={zho:"([一-鿿]+)",tib:"([ༀ-࿿]+)",grc:"([Ͱ-Ͽἀ-῿̀-ͯ᾽’]+)"};n.default=function(e,n){if(i[n]){e=e.replace(/ +/g," ").trim();var t=new RegExp(i[n]);if(t.test(e)){var r=new RegExp("([.,!:;·།])"),o=e.replace(/\r?\n+/,"\n").split("\n"),a=[];return o.forEach(function(e){var n=[];e.split(r).forEach(function(e){if(e=e.trim(),r.test(e)){var i={text:e,punct:!0};n.push(i)}else e.split(t).forEach(function(e){if(e){var i=!!t.test(e),r={text:e};" "==e?r.space=!0:i?r.lang=!0:r.other=!0,n.push(r)}})}),a.push(n)}),a.filter(function(e){return e.length})}}}},function(e,n){e.exports=require("mississippi")},function(e,n){e.exports=require("split")},function(e,n){e.exports=require("csv-parse")},function(e,n){e.exports=require("mousetrap")},function(e,n){e.exports=require("markdown")},function(e,n){e.exports=require("axios")},,function(e,n,t){"use strict";t.r(n);t(19);var i=t(1),r=t.n(i),o=t(0),a=(t(5),t(16)),s=t.n(a);t(8);function l(e){return document.querySelector(e)}function c(e){return document.querySelectorAll(e)}function u(e,n){let t=document.createElement(e);return n&&t.classList.add(n),t}function d(e,n){let t=document.createElement("span");return t.textContent=e,n&&t.classList.add(n),t}function f(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild)}function p(e){e&&e.parentElement.removeChild(e)}let g=t(26)({html:!0}),h=t(27);g.use(h);console.log;const m=t(4),v=t(2);var b=t(3),y=t(2),x=t.n(y),k=t(7);const{app:w}=t(0).remote,j=t(0).remote.require("electron-settings"),C=t(4),E=console.log,L=t(34);let S=t(13);function _(){const e={method:"POST",url:"http://guest:guest@localhost:5984/_dbs_info",json:!0,headers:{"Content-type":"application/json"}};L({url:"http://guest:guest@localhost:5984/_all_dbs"},function(n,t,i){if(n&&console.error("soket error"),t&&200!=t.statusCode)return;let o=JSON.parse(i),a=r.a.filter(o,e=>"_"!=e[0]);e.body={keys:a},L(e,function(e,n,t){if(e&&console.error("soket error"),n&&200!=n.statusCode)return;let i=t.map(e=>({dname:e.key,size:e.info.doc_count}));Promise.all(a.map(function(e){let n=["http://localhost.org:5984/",e].join("");return new S(n).get("description").then(n=>(n.dname=e,n)).catch(e=>{"missing"!=e.reason&&E("REMOTE-ERR:",e.reason)})})).then(function(e){let n=b.config.code,t=new RegExp(n);e=r.a.compact(e),e=r.a.filter(e,e=>t.test(e.langs));let o=[];e.forEach(e=>{let n=r.a.find(i,n=>n.dname==e.dname);n&&(n.descr=e,o.push(n))}),j.set("dbinfos",i),function(e){let n=j.get("cfg")||[],t=j.get("state"),i=r.a.uniq(n.map(e=>e.dname)),o=l("#before-remote-table");if(!o)return;o.textContent="";let a=l("#table-dicts-remote");a&&p(a);let s=l(["#remote-dicts",t.lang].join("_"));a=function(){let e=u("table","dicts-table");e.id="table-dicts-remote";let n=u("tr","table-header");n.id="table-header-remote",e.appendChild(n);let t=u("td");t.textContent="dict's name",n.appendChild(t);let i=u("td");i.textContent="docs",n.appendChild(i);let r=u("td");r.textContent="langs",n.appendChild(r);let o=u("td");o.textContent="info",n.appendChild(o);let a=u("td");return a.textContent="synchronize!",n.appendChild(a),e}(),s.appendChild(a),e.forEach(e=>{let n=u("tr");a.appendChild(n);let t=u("td");n.appendChild(t),t.textContent=e.descr.name;let r=u("td","dsize");r.textContent=e.size,n.appendChild(r);let o=u("td","dlang");o.textContent=e.descr.langs,n.appendChild(o);let s=u("td","dinfo");s.textContent="info",s.dataset.dinfo=e.dname,n.appendChild(s);let l=u("td","link");if(i.includes(e.dname)){let e=function(){let e=u("img","dict-check");return e.setAttribute("src","../resources/check.png"),e}();l.appendChild(e)}else l.textContent="sync";l.dataset.clone=e.dname,n.appendChild(l)})}(o)})})})}function q(e){E("INFO",e.dname);let n=j.get("dbinfos"),t=r.a.find(n,n=>n.dname==e.dname);E("DINFO:",t);let i=l(["#db-info",e.lang].join("_")),o=l("#db-info-table");o&&p(o),o=function(e){let n=u("ul","info-table"),t=u("li","");t.textContent=["dict's remote name: ",e.dname].join(""),n.appendChild(t);let i=u("li","");i.textContent=["dict's full name: ",e.descr.name].join(""),n.appendChild(i);let r=u("li","");r.textContent=["langs: ",e.descr.langs].join(""),n.appendChild(r);let o=u("li","");o.textContent=["source: ",e.descr.source].join(""),n.appendChild(o);let a=u("li","");return a.textContent=["editor: ",e.descr.email].join(""),n.appendChild(a),n}(t),i.appendChild(o)}!function(){let e=w.getPath("userData");e=x.a.resolve(process.env.HOME,".config/MorpheusGreek (development)");let n=j.get("cfg");n||(n=function(e){let n=x.a.resolve(e,"pouch"),t=C.readdirSync(n).map((e,n)=>({dname:e,active:!0,idx:n}));return j.set("cfg",t),t}(e));let t=n.map(e=>e.dname);t=["local","wkt","dvr","lsj"],Object(k.checkConnection)(e,t)}();var R=t(11),O=t(17),M=t.n(O);t(0).remote.require("electron-settings");const z=console.log;let A=l("#progress");function D(e){if(!e.pars)return;let n=l("#source"),t=l("#result");if(!n||!t)return;f(n),f(t),N(),e.pars.forEach(e=>{let t=function(e,n){let t=document.createElement("p");return t.textContent=e,n&&t.classList.add(n),t}();t.classList.add("par"),e.forEach(e=>{e.punct&&(e.text+=" ");let n=d(e.text);e.lang?n.classList.add("active-form"):e.punct?n.classList.add("punct"):n.classList.add("space"),t.appendChild(n)}),n.appendChild(t)});let i=c("span.active-form");if(1==i.length){let e=i[0];e&&U(e)}}function N(){let e=l("#popup");e&&p(e);let n=l("#etyrels");n&&p(n)}function T(e,n){let t=u("div","popup");t.id="popup",document.body.appendChild(t);let i=function(e){return e.getBoundingClientRect()}(e);t.classList.remove("is-hidden"),function(e,n){let t=[e.top,"px"].join(""),i=[e.left,"px"].join("");n.style.top=t,n.style.left=i}({top:i.top+24,left:i.left},t);let r=u("ul","compound-list");return t.appendChild(r),t}function F(){z("NO RESULT"),l("#result").textContent="no resul, try Shift-click"}function P(e){e.forEach(e=>{!function(e){let n=l("#result"),t=u("div","dict-div");n.appendChild(t);let i=u("div","dict-query");i.textContent=e.term,t.appendChild(i);let r=u("div","dict-container");t.appendChild(r);let o=H(e);r.appendChild(o);let a=I(e);if(a){let e=G(a);r.appendChild(e)}if(e.trns){let n=J(e);r.appendChild(n)}}(e)})}function U(e,n){A.classList.remove("is-hidden");let t=e.textContent.trim();(function(e,n){return Object(k.antrax)(e,n)})(t,n).then(t=>{if(N(),!t)return F();n?function(e,n){if(A.classList.add("is-hidden"),!n.chains||!n.chains.length)return;if(z("showCOMP",n.chains),1==n.chains.length&&1==n.chains[0].length)return;let t=T(e).querySelector(".compound-list");n.chains.forEach((e,i)=>{let r=u("li","comp-line");t.appendChild(r),e.forEach((t,o)=>{let a,s=!1;o==e.length-1&&(s=!0),a=d(t.seg,""),s||t.flexes||a.classList.add("comp-segment"),t.connector?a.classList.add("comp-connector"):t.dicts&&a.classList.add("active-dict"),a.dataset.segdicts=JSON.stringify(n.chains[i][o].dicts),r.appendChild(a)})})}(e,t):function(e){A.classList.add("is-hidden"),f(l("#result")),e.terms&&P(e.terms);e.chains&&(n=e.chains,r.a.filter(n,e=>1==e.length).forEach(e=>{B(e[0])}));var n;e.chains||e.terms||F()}(t)}).catch(function(e){console.log("ANTRAX-ERR",t,e)})}function B(e){let n=l("#result"),t=u("div","dict-div");n.appendChild(t);let i=u("div","dict-query");i.textContent=e.seg,t.appendChild(i),e.dicts.forEach(e=>{let n=u("div","dict-container");t.appendChild(n);let i=H(e);n.appendChild(i);let r=I(e);if(r){let e=G(r);n.appendChild(e)}if(e.trns){let t=J(e);n.appendChild(t)}})}function H(e){let n=u("div","dict-header"),t=d(e.dname,"dict-dname");n.appendChild(t);let i=d(e.rdict,"dict-rdict");if(n.appendChild(i),e.gends){let t=d(e.gends.toString(),"dict-gends");n.appendChild(t)}else if(e.term&&e.pos){let t=d(e.pos,"dict-pos");n.appendChild(t)}else if(e.suf){let e=d("suff","dict-pos");n.appendChild(e)}else if(e.pref){let e=d("pref","dict-pos");n.appendChild(e)}return n}function I(e){let n,t=e.fls||e.morphs;if(t){if(e.verb){let e=r.a.filter(t,e=>e.numper),i=r.a.filter(t,e=>e.numcase),o=r.a.filter(t,e=>!e.numcase&&!e.numper);if(n=e.map(e=>[e.tense,e.numper].join(" ")),i.length){let e=i.map(e=>[e.tense,[e.gend,e.numcase].join(".")].join(", "));n=n.concat(e)}if(o.length){let e=o.map(e=>e.tense);n=n.concat(e)}}else e.name&&e.gends?n=t.map(n=>[e.gends.toString(),n.numcase].join(".")):e.name?n=t.map(e=>[e.gend,e.numcase].join(".")):"pron"==e.pos?n=t.map(e=>[e.gend||"-",e.numcase].join(".")):"art"==e.pos?n=t.map(e=>[e.gend,e.numcase].join(".")):"adv"==e.pos?n=t.map(e=>e.degree):"part"==e.pos&&(n=t.map(e=>[e.gend,e.numcase].join(".")));if(!n)return!1;if("."==n.toString()){let e=t.map(e=>e.degree).toString();n="adv"==e?["adverb"]:[["adverb:",e].join(" ")]}return n}}function G(e){let n=u("ul","dict-fls");return e.forEach(e=>{let t=u("li");t.textContent=e,n.appendChild(t)}),n}function J(e){let n=u("ul","dict-trns");return e.trns||(e.trns=["no transtation in this dict article"]),e.trns.forEach(e=>{let t=u("li","dict-trns-li"),i=e.split(/, [A-Z]| [A-Z][^ ]*[0-9]/)[0],r=e.replace(i,"").split("(").join('<span class="grey">').split(")").join("</span>"),o=d("","is-hidden");o.innerHTML=r,o.classList.add("dict-trns-li-hidden"),t.innerHTML=i,t.appendChild(o),n.appendChild(t)}),n}const $=o.remote.app;$.getAppPath();let V=$.getPath("userData");V=x.a.resolve(process.env.HOME,".config/MorpheusGreek (development)");const W=console.log,Z=(t(14),t(0).remote.require("electron-settings")),K=t(39),{getCurrentWindow:Y}=t(0).remote;let X,Q,ee=t(40).markdown,ne=[],te=0;function ie(){te<=0||((Q=ne[--te]).arrow=!0,oe(Q))}function re(){te>=ne.length-1||((Q=ne[++te]).arrow=!0,oe(Q))}function oe(e){if(function(e){const n=c(".section");Array.prototype.forEach.call(n,e=>{e.classList.add("is-hidden")});let t=["#",e.sec,"_",e.lang].join("");if(!e.lang)throw new Error("NO LANG!");l(t)||(t=["#",e.sec,"_",b.config.deflang].join("")),l(t)&&l(t).classList.remove("is-hidden")}(e),e.arrow)e.arrow=!1;else{let n=r.a.clone(e);ne.push(n),te=ne.length-1}"main"==e.sec?(function(e){if(X)return;let n=Z.get("split-sizes")||b.config.splitSizes;X=M()(["#source","#result"],{sizes:n,gutterSize:5,cursor:"col-resize",minSize:[0,0],onDragEnd:function(e){Z.set("split-sizes",e),Y().reload()}}),e.mono&&X.collapse(e.mono)}(e),D(e)):"remote-dicts"==e.sec?_():"arrange-dicts"==e.sec||"db-info"==e.sec&&q(e),l("#progress").classList.add("is-hidden"),Z.set("state",e)}window.onbeforeunload=function(){let e=Z.get("state");o.ipcRenderer.send("unload",e)},o.ipcRenderer.on("action",function(e,n){"goleft"==n?ie():"goright"==n&&re()}),K.bind(["ctrl+1","ctrl+2"],function(e){}),K.bind(["esc"],function(e){!function(){let e=l("#popup");e&&p(e);let n=l("#etyrels");n&&p(n)}()}),K.bind(["alt+left","alt+right"],function(e){37==e.which?ie():39==e.which&&re()}),K.bind(["ctrl+p"],function(e){let n=l("span.active-form:hover");if(!n.classList.contains("active-form"))return;let t=["http://www.perseus.tufts.edu/hopper/morph?l=",n.textContent,"&la=greek#lexicon"].join("");o.shell.openExternal(t)}),K.bind(["ctrl+j"],function(e){let n=ee.toHTML("Hello *World*!");W("START  MD",n)}),K.bind(["ctrl+d"],function(e){let n=Z.get("state");n.pars&&(n.ldpath="/home/michael/diglossa.texts/Dyscolus",Z.set("state",n),n.ldpath&&(W("nav: CTRL-D",n.ldpath),Object(R.generateDictChunk)(n)))}),K.bind(["ctrl+shift+d"],function(e){let n=l("#progress");n.classList.remove("is-hidden");let t=Z.get("state");if(t.ldpath="/home/michael/diglossa.texts/Dyscolus",!t.ldpath)return;W("nav: CTRL-SHIFT-D",t.ldpath);let i=t.ldpath;Object(R.mergeDictChunk)(i,V).then(e=>{W("MERGE-RES",e),n.classList.add("is-hidden")})}),K.bind(["ctrl+f"],function(e){Q.sec="home",oe(Q)}),K.bind(["ctrl+="],function(e){let n=o.webFrame.getZoomFactor()+.1;o.webFrame.setZoomFactor(n)}),K.bind(["ctrl+-"],function(e){let n=o.webFrame.getZoomFactor()-.1;o.webFrame.setZoomFactor(n)}),K.bind(["ctrl+0"],function(e){o.webFrame.setZoomFactor(1)});const ae=o.remote.Menu,se=o.remote.MenuItem,le=new se({label:"Cut",click:()=>{document.execCommand("cut")}}),ce=new se({label:"Copy",click:()=>{document.execCommand("copy")}}),ue=new se({label:"Paste",click:()=>{document.execCommand("paste")}}),de=new ae;de.append(ce);const fe=new ae;fe.append(le),fe.append(ce),fe.append(ue),document.addEventListener("contextmenu",e=>{switch(e.target.nodeName){case"TEXTAREA":case"INPUT":e.preventDefault(),fe.popup(o.remote.getCurrentWindow());break;default:(()=>""!==window.getSelection().toString())()&&(e.preventDefault(),de.popup(o.remote.getCurrentWindow()))}},!1);const pe=console.log,ge=(o.remote.app,t(14)),he=t(0).remote.require("electron-settings"),me=t(41);!function(e){let n=l("#container");e.langs.forEach(t=>{e.pages.forEach(i=>{let r,o,a;try{r=v.resolve(__dirname,"../src/sections",t,[i,"md"].join(".")),o=m.readFileSync(r).toString(),a=g.render(o)}catch(n){r=v.resolve(__dirname,"../src/sections",e.deflang,[i,"md"].join(".")),o=m.readFileSync(r).toString(),a=g.render(o)}let s=u("div","section");s.id=[i,t].join("_"),s.setAttribute("lang",t),s.classList.add("is-hidden"),s.innerHTML=a,n.appendChild(s.cloneNode(!0))})})}(b.config);let ve=he.get("state");ve&&ve.lang||(ve={sec:b.config.defstate,lang:b.config.deflang}),oe(ve),o.ipcRenderer.on("section",function(e,n){ve.sec=n,oe(ve)}),o.ipcRenderer.on("lang",function(e,n){ve.lang=n,he.set("state",ve),o.ipcRenderer.send("lang",n),o.remote.getCurrentWindow().reload()}),ge.on("text-changed",()=>{let e=function(e){let n=e.trim();return n=(n=(n=n.replace(/ᾰ/gi,"α").replace(/ᾱ/gi,"α").replace(/ῑ/gi,"ι").replace(/ῐ/gi,"ι").replace(/ῠ/gi,"υ").replace(/ῡ/gi,"υ")).replace(/̆/gi,"")).replace(/-/g,"")}(ge.readText()),n=s()(e,b.config.code);n&&(ve.sec="main",ve.pars=n,oe(ve))}).startWatching();l("#progress"),l("#message");document.addEventListener("click",e=>{let n=e.target,t=n.dataset;if(n.classList.contains("external")){let e=n.textContent;o.shell.openExternal(e)}else if(n.classList.contains("dict-dname"))pe("D-DNAME",n),ve.sec="dict-edit",oe(ve);else if(n.classList.contains("active-form"))U(n,!0);else if(n.classList.contains("dict-query")){let e=n.nextSibling;e&&e.classList.contains("is-hidden")?e.classList.remove("is-hidden"):e&&e.classList.add("is-hidden")}else if(n.classList.contains("dict-header")||n.classList.contains("dict-rdict")||n.classList.contains("dict-pos")||n.classList.contains("dict-gends")){let e=n.closest(".dict-container"),t=e.querySelector(".dict-fls"),i=e.querySelector(".dict-trns");t&&t.classList.contains("is-hidden")?t.classList.remove("is-hidden"):t&&t.classList.add("is-hidden"),i.classList.contains("is-hidden")?i.classList.remove("is-hidden"):i.classList.add("is-hidden")}else if(n.classList.contains("dict-trns-li")){let e=n.querySelector(".is-hidden");e?e.classList.remove("is-hidden"):(e=n.querySelector(".dict-trns-li-hidden")).classList.add("is-hidden")}if(t)if(t.href){l("#new-version").classList.add("is-hidden"),o.shell.openExternal(t.href)}else t.dinfo?(ve.sec="db-info",ve.dname=t.dinfo,oe(ve)):t.section&&(ve.sec=t.section,oe(ve))}),document.addEventListener("mouseover",function(e){let n=e.target;n.textContent&&(e.ctrlKey||e.shiftKey||(n.classList.contains("active-form")?U(n):n.classList.contains("active-dict")?function(e){f(l("#result"));let n=JSON.parse(e.dataset.segdicts);n.length&&B({seg:e.textContent,dicts:n})}(n):n.classList.contains("sect-dict-line")&&pe("это от старого варианта, sect-dict-line")))},!1),o.ipcRenderer.on("version",function(e,n){me.get("https://api.github.com/repos/mbykov/pecha.js/releases/latest").then(function(e){if(!e||!e.data)return;let t=e.data.name;if(n&&t&&t>n){let e=l("#new-version"),n=["new version available:",t].join(" ");e.textContent=n,e.classList.remove("is-hidden")}}).catch(function(e){console.log("API.GITHUB ERR")})}),document.addEventListener("wheel",function(e){!function(e){let n,t=e.target.closest("#source")||e.target.closest("#result"),i=t.id,r=l("#source"),o=l("#result");n=1==e.shiftKey||1==e.ctrlKey?"source"==i?o:r:t;if(!n)return;let a=e.deltaY>0?32:-32;n.scrollTop+=a}(e)},!1)}]);
//# sourceMappingURL=app.js.map