!function(e){var n={};function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)o.d(t,s,function(n){return e[n]}.bind(null,s));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=40)}({0:function(e,n){e.exports=require("electron")},13:function(e,n){e.exports=require("electron-settings")},19:function(e,n){e.exports=require("url")},2:function(e,n,o){"use strict";o.r(n),o.d(n,"config",function(){return t});const t={code:"grc",host:"http://diglossa.org:5984",pages:["home","main","remote-dicts","arrange-dicts","db-info","arrange-dicts","help","dict-edit","local-chunk","local-dict-full","local-dict-item","localdict-help","about","authentic","code","license","acknowledgements","arrange-dicts","contacts","csv"],defstate:"home",splitSizes:[50,50],langs:["eng","deu","rus"],ldname:"local",deflang:"eng"}},22:function(e){e.exports={name:"biblos.js",productName_:"Biblos, a.k.a Morpheus for Ancient Greek",productName:"Biblos.js",description:"Biblos, a.k.a Morpheus for Ancient Greek based on CouchDB && Electron.js",version:"0.9.0",author:"M. Bykov <m.bykov@gmail.com>",copyright:"Â© 2017- 2019, M.Bykov",homepage:"http://diglossa.org",license:"GPL-3.0",main:"app/background.js",build:{appId:"com.example.electron-boilerplate",files:["app/**/*","node_modules/**/*","package.json"],directories:{buildResources:"resources"},publish:null},scripts:{postinstall:"electron-builder install-app-deps",preunit:"webpack --config=build/webpack.unit.config.js --env=test --display=none",unit:"electron-mocha temp/specs.js --renderer --require source-map-support/register",pree2e:"webpack --config=build/webpack.app.config.js --env=test --display=none && webpack --config=build/webpack.e2e.config.js --env=test --display=none",e2e:"mocha temp/e2e.js --require source-map-support/register",test:"npm run unit && npm run e2e",start:"node build/start.js 2>/dev/null",release:"npm test && webpack --config=build/webpack.app.config.js --env=production && electron-builder"},dependencies:{antrax:"^0.9.10",axios:"^0.18.0","electron-clipboard-extended":"^1.1.1","electron-settings":"^3.2.0","file-loader":"^3.0.1","fs-extra":"^7.0.1",markdown:"^0.5.0","markdown-it":"^8.4.2","markdown-it-attrs":"^2.3.2",mississippi:"^4.0.0",mousetrap:"^1.6.3",nano:"^8.0.1","node-couchdb":"^1.3.0","normalize.css":"^8.0.1",orthos:"^0.6.3",pouchdb:"^7.0.0",pug:"^2.0.3",request:"^2.88.0",showdown:"^1.9.0","speckled-band":"^3.1.3","split.js":"^1.5.10"},devDependencies:{"@babel/core":"^7.4.0","@babel/preset-env":"^7.4.2","babel-loader":"^8.0.5","babel-plugin-transform-object-rest-spread":"^6.26.0",chai:"^4.2.0","css-loader":"^2.1.1",electron:"4.1.1","electron-builder":"^20.39.0","electron-mocha":"^6.0.4","friendly-errors-webpack-plugin":"^1.7.0",mocha:"^5.2.0","source-map-support":"^0.5.9",spectron:"^5.0.0","style-loader":"^0.23.1",webpack:"^4.29.6","webpack-merge":"^4.2.1","webpack-node-externals":"^1.7.2"},repository:{type:"git",url:"git+https://github.com/mbykov/biblos.js.git"},bugs:{url:"https://github.com/mbykov/biblos.js/issues"}}},3:function(e,n){e.exports=require("path")},40:function(e,n,o){"use strict";o.r(n);var t=o(3),s=o.n(t),l=o(19),r=o.n(l),c=o(0);const i={label:"<--",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("action","goleft")}},a={label:"--\x3e",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("action","goright")}},d=o(3),u=o(0),p=o(6);let b,w=u.app?u.app:u.remote.app,g=(console.log,w.getAppPath()),m={};const f=o(13);function k(e){let n=f.get("lang")||"eng";if(!m[n]){let e=n+".js",o=d.resolve(g,"src/locales",e);if(p.pathExistsSync(o))b=p.readJsonSync(o);else{let e=d.resolve(g,"src/locales/eng.js");b=p.readJsonSync(e)}m[n]=b}let o=W(e);return h(m[n][o])||h(e)}const h=e=>"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1),W=e=>"string"!=typeof e?"":e.charAt(0).toLowerCase()+e.slice(1);console.log;const C={label:"ENG",submenu:[{label:"DEU",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","deu")}},{label:"RUS",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","rus")}}]},B={label:"DEU",submenu:[{label:"ENG",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","eng")}},{label:"RUS",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","rus")}}]},y={label:"RUS",submenu:[{label:"DEU",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","deu")}},{label:"ENG",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","eng")}}]},v={label:"ZHO",submenu:[{label:"ENG",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","eng")}},{label:"DEU",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","deu")}},{label:"RUS",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","rus")}},{label:"TIB",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","tib")}}]},F={label:"TIB",submenu:[{label:"ENG",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","eng")}},{label:"DEU",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","deu")}},{label:"RUS",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","rus")}},{label:"ZHO",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("lang","zho")}}]},j=o(0).Menu;o(2),console.log;function x(e){const n=[i,a,{label:"File",submenu:[{label:k("home"),accelerator:"CmdOrCtrl+H",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","home")}},{label:k("Quit"),accelerator:"CmdOrCtrl+Q",click:()=>{c.app.quit()}}]},{label:k("dictionary"),submenu:[{label:k("Arrange and clone dicts from server"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","remote-dicts")}},{label:k("local dictionary"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","localdict-help")}},{type:"separator"},{label:k("Cleanup DBs completely"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","cleanup")}}]},{label:k("About"),submenu:[{label:k("About"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","about")}},{label:k("Authentic grammar"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","authentic")}},{label:k("code and download"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","code")}},{label:k("License"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","license")}},{label:k("Contacts"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","contacts")}},{label:k("Acknowledgements"),click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","acknowledgements")}}]},{label:k("Help"),submenu:[{label:k("hot keys"),accelerator:"Shift+CmdOrCtrl+H",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.send("section","help")}},{label:"Reload",accelerator:"Shift+CmdOrCtrl+R",click:()=>{c.BrowserWindow.getFocusedWindow().webContents.reloadIgnoringCache()}},{label:k("Toggle devTools"),accelerator:"Alt+CmdOrCtrl+I",click:()=>{c.BrowserWindow.getFocusedWindow().toggleDevTools()}}]}];switch(e){case"eng":n.push(C);break;case"deu":n.push(B);break;case"rus":n.push(y);break;case"tib":n.push(F);break;case"zho":n.push(v);break;default:n.push(C)}j.setApplicationMenu(j.buildFromTemplate(n))}var S=o(7);const A=o(13);console.log,o(2);if("production"!==S.name){const e=c.app.getPath("userData");c.app.setPath("userData",`${e} (${S.name})`)}c.app.on("ready",()=>{x(A.get("lang")||"eng");const e=new c.BrowserWindow({webPreferences:{nodeIntegration:!0}});let n=A.get("winBounds")||e.getBounds();n.y-=21,e.setBounds(n),e.loadURL(r.a.format({pathname:s.a.join(__dirname,"app.html"),protocol:"file:",slashes:!0})),"development"===S.name&&e.openDevTools(),e.webContents.on("did-finish-load",()=>{let n=o(22),t=n.name,s=n.version;e.webContents.send("version",s),e.setTitle([t,"v.",s].join(" "))}),e.on("resize",function(){e.webContents.send("reload")}),e.on("close",()=>{A.set("winBounds",e.getBounds())});const t=c.app.getAppPath(),l=c.app.getPath("userData");A.set("apath",t),A.set("upath",l)}),c.ipcMain.on("lang",(e,n)=>{x(n)}),c.app.on("window-all-closed",()=>{c.app.quit()})},6:function(e,n){e.exports=require("fs-extra")},7:function(e){e.exports={name:"development",description:"Add here any environment specific stuff you like."}}});
//# sourceMappingURL=background.js.map